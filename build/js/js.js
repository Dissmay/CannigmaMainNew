/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "js/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports) {

<<<<<<< HEAD
eval("$(function () {\n  $(window).scrollTop(0); // SLIDERS\n\n  $(\".d_slideBlock\").slick({\n    dots: true,\n    arrows: false,\n    autoplay: true,\n    autoplaySpeed: 6000\n  }); //INIT слайдера\n\n  $(\".d_human__slidersGirl\").on(\"init\", function (event, slick) {\n    $(event.target).find(\"li\")[1].click();\n  });\n  $(\".d_human__slidersMan\").on(\"init\", function (event, slick) {\n    $(event.target).find(\"li\")[1].click();\n  }); //INIT слайдера\n\n  $(\".d_slideWrap\").slick({\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    arrows: true,\n    speed: 3000,\n    autoplay: true,\n    autoplaySpeed: 6000,\n    asNavFor: \".d_slideWrapLast\",\n    prevArrow: $(\".d_slideFirst__prev\"),\n    nextArrow: $(\".d_slideFirst__next\"),\n    dots: true,\n    responsive: [{\n      breakpoint: 800,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        dots: false\n      }\n    }]\n  });\n  $(\".d_slideWrapLast\").slick({\n    slidesToShow: 2,\n    slidesToScroll: 1,\n    asNavFor: \".d_slideWrap\",\n    dots: true,\n    speed: 3000,\n    centerMode: false,\n    variableWidth: true,\n    focusOnSelect: false,\n    prevArrow: $(\".d_slideLast__prev\"),\n    nextArrow: $(\".d_slideLast__next\"),\n    responsive: [{\n      breakpoint: 800,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  });\n  $(\".d_educationCenter__slider\").slick({\n    slidesToShow: 4,\n    slidesToScroll: 1,\n    arrows: true,\n    prevArrow: $(\".d_educationCenter__slider_prev\"),\n    nextArrow: $(\".d_educationCenter__slider_next\"),\n    responsive: [{\n      breakpoint: 770,\n      settings: \"unslick\"\n    }]\n  });\n  $(\".d_experts__sliders\").slick({\n    slidesToShow: 2,\n    slidesToScroll: 1,\n    arrows: true,\n    dots: true,\n    prevArrow: $(\".d_experts__prev\"),\n    nextArrow: $(\".d_experts__next\"),\n    responsive: [{\n      breakpoint: 769,\n      settings: {\n        slidesToShow: 1\n      }\n    }]\n  }); // SLIDERS\n  //GLOBAL WINDOW SCROLL TOP 0\n  //GLOBAL WINDOW SCROLL TOP 0\n\n  /* Tabs */\n\n  var d_tabLink = $(\".d_essentials__tabLink\");\n  /* Tabs */\n\n  var arrowHeart = $(\".d_human__img_girl__arrowHeart\");\n  var arrowHeartMan = $(\".d_human__img_girl__arrowHeart_man\");\n  var humanImgHeart = $(\".d_human__img_girl__heart\");\n  var activeClassHuman = $(\".d_human__img_girl\");\n  var btnGirlNext = $(\".d_human__list_girl__next\");\n  var btnGirlPrev = $(\".d_human__list_girl__prev\");\n  var btnManNext = $(\".d_human__list_man__next\");\n  var btnManPrev = $(\".d_human__list_man__prev\");\n  var ulActive = $(\".d_human__list_ul\");\n  var elipsYellow = $(\".d_human__img_girl__elips\");\n  var elipsYellowMan = $(\".d_human__img_man__elips\");\n  var linkSwitchBlockHuman = $(\".d_human__img_changeGender__img\");\n  var girlBtns = $(\".d_human__list_girl__btns\");\n  var manBtns = $(\".d_human__list_man__btns\");\n  var slidersGirl = $(\".d_human__slidersGirl\");\n  var slidersMan = $(\".d_human__slidersMan\");\n  var openPopapListBtnMan = $(\".d_human__sliderMan_btn\");\n  var openPopapListBtnWoman = $(\".d_human__sliderGirl_btn\");\n  var popapListCloser = $(\".d_popapListHuman__closerBtn\");\n  var popapListPrevbtn = $(\".d_popapSliderBtn__prev\");\n  var popapListNextbtn = $(\".d_popapSliderBtn__next\");\n  var d_popapVideoHub = $(\".d_popapVideo\");\n  var d_btnCloserPopapVideoHub = $(\".d_popapVideo__closer\");\n  var autoClickSliderMobail = $(\".d_human__img_girl__elipsHeart\"); //SUBSTRTEXT\n\n  var expertsComments = document.querySelectorAll(\".d_experts__sliderExpert_p\");\n  var expertsName = document.querySelectorAll(\".d_experts__sliderExpert_h\");\n  var humanListNameA = document.querySelectorAll(\".d_news__h\");\n  var mainSlideTextH = document.querySelectorAll(\".d_slide__text_h\");\n  var mainNewsBigCardH = document.querySelectorAll(\".d_moreNews__bigCard_h\");\n  var mainNewsLeftCardH = document.querySelectorAll(\".d_moreNews__card_h\");\n  var mainNewsSmallCardH = document.querySelectorAll(\".d_moreNews__smallCard_h\");\n  var mainleftLastnews = document.querySelectorAll(\".d_paddingRight\");\n  var smallCardMoreNews = document.querySelectorAll(\".d_moreNews__smallCard_p\");\n  var d_sliderFirstTextH = document.querySelectorAll(\".d_sliderFirst__text_h\");\n  var d_sliderLastVideoH = document.querySelectorAll(\".d_sliderLast__video_hA\"); // const d_mainPageNewsH = document.querySelectorAll('.d_news__h');\n  // console.log(smallCardMoreNews);\n\n  var endCharacter = \"...\";\n\n  var substrFunction = function substrFunction(element, size) {\n    element.forEach(function (el) {\n      var text = el.innerHTML;\n\n      if (el.innerHTML.length > size) {\n        text = text.substr(0, size);\n        el.innerHTML = text + endCharacter;\n      }\n    });\n  };\n\n  substrFunction(expertsComments, 100);\n  substrFunction(expertsName, 22);\n  substrFunction(humanListNameA, 37);\n  substrFunction(mainSlideTextH, 60);\n  substrFunction(mainNewsBigCardH, 67);\n  substrFunction(mainNewsLeftCardH, 40);\n  substrFunction(mainNewsSmallCardH, 45);\n  substrFunction(mainleftLastnews, 50); // substrFunction(smallCardMoreNews, 42);\n\n  substrFunction(d_sliderFirstTextH, 60);\n  substrFunction(d_sliderLastVideoH, 60);\n\n  if ($(window).width() <= 520) {\n    $(\".d_human__slidersGirl\").slick({\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      dots: true,\n      autoplay: true,\n      autoplaySpeed: 5000,\n      arrows: false\n    });\n    autoClickSliderMobail[0].click();\n  }\n\n  if ($(window).width() <= 375) {\n    substrFunction(expertsComments, 40);\n    substrFunction(humanListNameA, 33);\n  }\n\n  if ($(window).width() <= 458) {\n    substrFunction(humanListNameA, 33);\n  }\n\n  if ($(window).width() <= 420) {\n    substrFunction(expertsComments, 50);\n    substrFunction(humanListNameA, 33);\n  } // substrFunction(smallCardMoreNews, 20);\n  //SUBSTRTEXT\n\n\n  var interval = null;\n\n  if ($(window).width() >= 768) {\n    if ($(activeClassHuman[0]).hasClass(\"active\")) {\n      clearInterval(interval);\n      interval = setInterval(function (e) {\n        btnGirlNextInterval();\n      }, 5000);\n    }\n  }\n\n  function btnGirlNextInterval() {\n    btnGirlNext.click();\n  }\n\n  function btnManNextInterval() {\n    btnManNext.click();\n  }\n\n  if ($(window).height() <= 667) {\n    d_btnCloserPopapVideoHub[0].style.top = \"149px\"; // console.log(d_btnCloserPopapVideoHub);\n\n    var clickBtnSliderGirlPreventDefault = slidersGirl.find(\"li\").children();\n    clickBtnSliderGirlPreventDefault.on(\"click\", function (event) {\n      event.preventDefault();\n      event.target.disabled = true;\n      console.log(event);\n    });\n  }\n\n  if ($(\".d_popapListHuman\").length) {\n    $(window).on(\"scroll\", function (e) {\n      var target = $(e.target);\n      var scrolledPixels = target.scrollTop();\n\n      if (scrolledPixels >= 108) {\n        $(\".d_popapListHuman\")[0].style.top = \"44px\";\n      } else {\n        $(\".d_popapListHuman\")[0].style.top = \"109px\";\n      }\n    });\n  }\n\n  $(\".d_slideFirst\").on(\"click\", function (e) {\n    var target = $(e.target);\n    var linkIframe = target.attr(\"data-srcVideo\");\n    var srcLink = $(\".d_modal-video__height\").children().attr(\"src\", linkIframe);\n  });\n  $(\".d_sliderLast__video\").on(\"click\", function (e) {\n    var target = $(e.target);\n    var linkIframe = target.attr(\"data-srcVideo\");\n    var srcLink = $(\".d_modal-video__height\").children().attr(\"src\", linkIframe);\n  });\n  d_popapVideoHub.on(\"click\", function (e) {\n    if (e.target !== $(\".d_modal-video__height\")) {\n      $(\".d_popapVideo\").addClass(\"d-none\");\n      var d_Iframe = $(\".d_modal-video__height\").find(\"iframe\");\n      d_Iframe.attr(\"src\", \"\");\n      $(\"main\").removeClass(\"d_blur\"); // $('main').style.zIndex= '0';\n\n      $(\".d_popapVideo\")[0].style.zIndex = \"0\";\n      $(\"#masthead\").removeClass(\"blurred\");\n      $(\"#colophon\").removeClass(\"blurred\");\n    }\n  });\n  d_btnCloserPopapVideoHub.on(\"click\", function () {\n    $(\".d_popapVideo\").addClass(\"d-none\");\n    var d_Iframe = $(\".d_modal-video__height\").find(\"iframe\");\n    d_Iframe.attr(\"src\", \"\");\n    $(\"main\").removeClass(\"d_blur\"); // $('main').style.zIndex= '0';\n\n    $(\".d_popapVideo\")[0].style.zIndex = \"0\";\n    $(\"#masthead\").removeClass(\"blurred\");\n    $(\"#colophon\").removeClass(\"blurred\");\n  });\n  $(\".d_sliderFirst__video_a\").on(\"click\", function (e) {\n    e.preventDefault();\n    $(\"main\").addClass(\"d_blur\"); // $('main').style.zIndex= '100';\n\n    $(\".d_popapVideo\")[0].style.zIndex = \"200\";\n    var d_Iframe = $(\".d_modal-video__height\").find(\"iframe\");\n    d_Iframe.attr(\"src\", \"\");\n    $(\".d_popapVideo\").removeClass(\"d-none\");\n    $(\"#masthead\").addClass(\"blurred\");\n    $(\"#colophon\").addClass(\"blurred\");\n  });\n  $(\".d_sliderLast__video_a\").on(\"click\", function (e) {\n    e.preventDefault();\n    $(\"main\").addClass(\"d_blur\"); // $('main').style.zIndex= '100';\n\n    $(\".d_popapVideo\")[0].style.zIndex = \"200\";\n    $(\".d_popapVideo\").removeClass(\"d-none\");\n    $(\"#masthead\").addClass(\"blurred\");\n    $(\"#colophon\").addClass(\"blurred\");\n  });\n  popapListCloser.on(\"click\", function (e) {\n    $(\".d_popapListHuman\").addClass(\"d-n\");\n    $(\".d_popapUlHuman\").removeClass(\"active\");\n    $(\".d_popapSliderImg__img\").removeClass(\"active\");\n    var dataIdImg = $(\".d_popapSliderImg__img\");\n    $(\"body\").css(\"overflowY\", \"auto\");\n  });\n  var copyDataImg = null;\n  openPopapListBtnWoman.on(\"click\", function (e) {\n    var target = $(e.target);\n    var link = target.attr(\"href\");\n    var content = $(link);\n    content.addClass(\"active\");\n    $(window).scrollTop(0);\n    $(\"body\").css(\"overflowY\", \"hidden\");\n    $(\".d_popapListHuman\")[0].style.top = \"108px\"; // console.log($(wi));\n\n    $(\".d_popapDivTextH\")[0].innerText = target.attr(\"data-btnText\");\n    $(\".d_popapListHuman\").removeClass(\"d-n\");\n    var listImg = $(\".d_popapSliderImg\").children();\n    listImg.map(function (ind, elem) {\n      var activeElips = $(\".d_human__img_girl__elips\");\n      var activeElip = activeElips.map(function (e, i) {\n        if ($(i).hasClass(\"active\")) {\n          return i;\n        }\n      });\n      var activeUl = $(activeElip).attr(\"href\");\n      var contentUl = $(activeUl);\n\n      if ($(elem).attr(\"data-id\") == contentUl.attr(\"id\")) {\n        $(elem).addClass(\"active\");\n      }\n    }); // $(\".d_popapSliderImg\").slick({\n    //   dots: false,\n    //   arrows: true,\n    //   slidesToShow: 1,\n    //   slidesToScroll: 1,\n    //   prevArrow: $(\".d_popapSliderBtn__prev\"),\n    //   nextArrow: $(\".d_popapSliderBtn__next \")\n    // });\n  });\n  popapListNextbtn.on(\"click\", function (e) {\n    var slider = $(\".d_popapSliderImg\").children();\n    var ulSliderList = $(\".d_popapUlHuman\");\n    var indUl = null;\n    var filteredList = slider.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    var filteredListUl = ulSliderList.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    $(filteredListUl).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i < filteredListUl.length - 1) {\n          indUl = i += 1;\n        } else {\n          indUl = 0;\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    $(filteredListUl[indUl]).addClass(\"active\");\n    var ind = null;\n    $(filteredList).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i < filteredList.length - 1) {\n          ind = i += 1;\n        } else {\n          ind = 0;\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    var dataText = $(filteredList[ind]).attr(\"data-Text\");\n    $(\".d_popapDivTextH\")[0].innerText = dataText;\n    $(filteredList[ind]).addClass(\"active\");\n  });\n  popapListPrevbtn.on(\"click\", function (e) {\n    var slider = $(\".d_popapSliderImg\").children();\n    var ulSliderList = $(\".d_popapUlHuman\");\n    var indUl = null;\n    var filteredListUl = ulSliderList.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    $(filteredListUl).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i > 0 && i <= filteredListUl.length - 1) {\n          indUl = i = i - 1;\n        } else if (i <= 0) {\n          indUl = filteredListUl.length - 1;\n        } else {\n          indUl = 0;\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    $(filteredListUl[indUl]).addClass(\"active\");\n    var ind = null;\n    var filteredList = slider.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\"); // if($(e).attr('data-id') == 'Stomach'){\n      //   console.log();\n      // }\n    });\n    $(filteredList).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i > 0 && i <= filteredList.length - 1) {\n          ind = i = i - 1;\n        } else if (i <= 0) {\n          ind = filteredList.length - 1;\n        } else {\n          console.log(1);\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    $(filteredList[ind]).addClass(\"active\");\n    var dataText = $(filteredList[ind]).attr(\"data-Text\");\n    $(\".d_popapDivTextH\")[0].innerText = dataText;\n  });\n  var newDataIdImg = null;\n  openPopapListBtnMan.on(\"click\", function (e) {\n    var target = $(e.target);\n    var link = target.attr(\"href\");\n    var content = $(link);\n    content.addClass(\"active\");\n    $(window).scrollTop(0);\n    $(\"body\").css(\"overflowY\", \"hidden\");\n    $(\".d_popapListHuman\")[0].style.top = \"108px\";\n    $(\".d_popapDivTextH\")[0].innerText = target.attr(\"data-btnText\");\n    var dataIdImg = $(\".d_popapSliderImg__img\");\n    $(\".d_popapListHuman\").removeClass(\"d-n\");\n    var listImg = $(\".d_popapSliderImg\").children();\n    var filteredList = listImg.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    filteredList.map(function (ind, elem) {\n      var activeElips = $(\".d_human__img_man__elips\");\n      var activeElip = activeElips.map(function (e, i) {\n        if ($(i).hasClass(\"active\")) {\n          return i;\n        }\n      });\n      var activeUl = $(activeElip).attr(\"href\");\n      var contentUl = $(activeUl);\n\n      if ($(elem).attr(\"data-id\") == contentUl.attr(\"id\")) {\n        $(elem).addClass(\"active\");\n      }\n    });\n  });\n  /* Tabs */\n\n  d_tabLink.on(\"click\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    var link = target.attr(\"href\");\n    var content = $(link);\n    var active = $(\".d_essentials-tab .active, .d_essentials-content .active \");\n    active.removeClass(\"active\");\n    target.parent().addClass(\"active\");\n    content.addClass(\"active\");\n  });\n  /* Tabs */\n\n  var getImgHuman = function getImgHuman(id) {\n    humanImgHeart.map(function (curValue, index) {\n      index.setAttribute(\"src\", \"\");\n\n      if (id == index.getAttribute(\"data-id\")) {\n        var dataSrc = index.getAttribute(\"data-srcTwo\");\n        index.setAttribute(\"src\", dataSrc);\n      }\n    });\n  };\n\n  var findAttr = function findAttr() {\n    massElipsColor.forEach(function (e) {\n      if (e.classList.contains(\"active\")) {\n        var lol = $(e.getAttribute(\"href\"));\n        lol.addClass(\"active\");\n      }\n    });\n  };\n\n  var findAttrMan = function findAttrMan() {\n    massElipsColorMan.forEach(function (e) {\n      if (e.classList.contains(\"active\")) {\n        var lol = $(e.getAttribute(\"href\"));\n        lol.addClass(\"active\");\n      }\n    });\n  };\n\n  var switchFunc = function switchFunc(id) {\n    switch (id) {\n      case \"0\":\n        arrowHeart[0].style.marginTop = \"-11px\";\n        arrowHeart[0].style.marginLeft = \"-86px\";\n        arrowHeart[0].style.transform = \"rotate(28deg)\";\n        arrowHeart[0].style.height = \"77px\";\n        break;\n\n      case \"1\":\n        arrowHeart[0].style.marginTop = \"48px\";\n        arrowHeart[0].style.marginLeft = \"-61px\";\n        arrowHeart[0].style.transform = \"rotate(1deg)\";\n        arrowHeart[0].style.height = \"96px\";\n        break;\n\n      case \"2\":\n        arrowHeart[0].style.marginTop = \"25px\";\n        arrowHeart[0].style.marginLeft = \"-148px\";\n        arrowHeart[0].style.transform = \"rotate(0deg)\";\n        arrowHeart[0].style.height = \"172px\";\n        break;\n\n      case \"3\":\n        arrowHeart[0].style.marginTop = \"72px\";\n        arrowHeart[0].style.marginLeft = \"-41px\";\n        arrowHeart[0].style.transform = \"rotate(-16deg)\";\n        arrowHeart[0].style.height = \"110px\";\n        break;\n\n      case \"4\":\n        arrowHeart[0].style.marginTop = \"60px\";\n        arrowHeart[0].style.marginLeft = \"-89px\";\n        arrowHeart[0].style.transform = \"rotate(-7deg)\";\n        arrowHeart[0].style.height = \"139px\";\n        break;\n\n      case \"5\":\n        arrowHeart[0].style.marginTop = \"63px\";\n        arrowHeart[0].style.marginLeft = \"-122px\";\n        arrowHeart[0].style.transform = \"rotate(-15deg)\";\n        arrowHeart[0].style.height = \"187px\";\n        break;\n\n      case \"6\":\n        arrowHeart[0].style.marginTop = \"79px\";\n        arrowHeart[0].style.marginLeft = \"-184px\";\n        arrowHeart[0].style.transform = \"rotate(-16deg)\";\n        arrowHeart[0].style.height = \"301px\";\n        break;\n\n      case \"7\":\n        arrowHeart[0].style.marginTop = \"89px\";\n        arrowHeart[0].style.marginLeft = \"-149px\";\n        arrowHeart[0].style.transform = \"rotate(-25deg)\";\n        arrowHeart[0].style.height = \"285px\";\n    }\n  };\n\n  var switchFuncMan = function switchFuncMan(id) {\n    switch (id) {\n      case \"0\":\n        arrowHeartMan[0].style.marginTop = \"-2px\";\n        arrowHeartMan[0].style.marginLeft = \"-79px\";\n        arrowHeartMan[0].style.transform = \"rotate(37deg)\";\n        arrowHeartMan[0].style.height = \"70px\";\n        break;\n\n      case \"1\":\n        arrowHeartMan[0].style.marginTop = \"52px\";\n        arrowHeartMan[0].style.marginLeft = \"-82px\";\n        arrowHeartMan[0].style.transform = \"rotate(-4deg)\";\n        arrowHeartMan[0].style.height = \"117px\";\n        break;\n\n      case \"2\":\n        arrowHeartMan[0].style.marginTop = \"42px\";\n        arrowHeartMan[0].style.marginLeft = \"-147px\";\n        arrowHeartMan[0].style.transform = \"rotate(5deg)\";\n        arrowHeartMan[0].style.height = \"176px\";\n        break;\n\n      case \"3\":\n        arrowHeartMan[0].style.marginTop = \"72px\";\n        arrowHeartMan[0].style.marginLeft = \"-41px\";\n        arrowHeartMan[0].style.transform = \"rotate(-9deg)\";\n        arrowHeartMan[0].style.height = \"126px\";\n        break;\n\n      case \"4\":\n        arrowHeartMan[0].style.marginTop = \"60px\";\n        arrowHeartMan[0].style.marginLeft = \"-114px\";\n        arrowHeartMan[0].style.transform = \"rotate(-11deg)\";\n        arrowHeartMan[0].style.height = \"171px\";\n        break;\n\n      case \"5\":\n        arrowHeartMan[0].style.marginTop = \"79px\";\n        arrowHeartMan[0].style.marginLeft = \"-184px\";\n        arrowHeartMan[0].style.transform = \"rotate(-18deg)\";\n        arrowHeartMan[0].style.height = \"287px\";\n        break;\n\n      case \"6\":\n        arrowHeartMan[0].style.marginTop = \"89px\";\n        arrowHeartMan[0].style.marginLeft = \"-149px\";\n        arrowHeartMan[0].style.transform = \"rotate(-27deg)\";\n        arrowHeartMan[0].style.height = \"277px\";\n    }\n  }; // ELIPS COLOR AND WIDTH\n\n\n  var massElipsColor = [];\n  var massElipsColorMan = [];\n  elipsYellow.map(function (e, target) {\n    massElipsColor.push(target);\n  });\n  elipsYellowMan.map(function (e, target) {\n    massElipsColorMan.push(target);\n  });\n  $(\".d_human__list__h\")[0].innerText = $(massElipsColor)[1].getAttribute(\"data-Text\"); // mouseover MOUSEOVER\n\n  var dMobailDotsWoman = $(slidersGirl).find(\".slick-dots\").children(); // console.log(dMobailDotsWoman);\n\n  elipsYellow.on(\"mouseover\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    arrowHeartMan[0].style.opacity = \"0\";\n    arrowHeart[0].style.opacity = \"1\";\n    $(\".d_human__list__h\")[0].innerText = target[0].getAttribute(\"data-Text\");\n    ulActive.map(function (index, ul) {\n      ul.classList.remove(\"active\");\n    });\n    getImgHuman(e.target.getAttribute(\"data-id\"));\n    elipsYellow.map(function (e, target) {\n      target.classList.remove(\"active\");\n    });\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockGirl\") {\n      switchFunc(e.target.getAttribute(\"data-id\"));\n    }\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockMan\") {\n      switchFuncMan(e.target.getAttribute(\"data-id\"));\n    }\n\n    target.addClass(\"active\");\n    findAttr();\n    var attrYellowCircle = e.target.getAttribute(\"data-id\");\n    var dMobailDotsWomanBtn = $(dMobailDotsWoman[attrYellowCircle]).children(); // console.log(dMobailDotsWomanBtn);\n\n    if (document.documentElement.clientWidth <= 577) {\n      dMobailDotsWomanBtn.click();\n    }\n  });\n  elipsYellowMan.on(\"mouseover\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    arrowHeartMan[0].style.opacity = \"1\";\n    arrowHeart[0].style.opacity = \"0\";\n    $(\".d_human__list__h\")[0].innerText = target[0].getAttribute(\"data-Text\");\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    getImgHuman(e.target.getAttribute(\"data-id\"));\n    Array.prototype.forEach.call(elipsYellowMan, function (target) {\n      target.classList.remove(\"active\");\n    });\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockGirl\") {\n      switchFunc(e.target.getAttribute(\"data-id\"));\n    }\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockMan\") {\n      switchFuncMan(e.target.getAttribute(\"data-id\"));\n    }\n\n    target.addClass(\"active\");\n    findAttrMan();\n    var attrYellowCircle = e.target.getAttribute(\"data-id\");\n    var dMobailDotsManBtn = $(dMobailDotsMan[attrYellowCircle]).children();\n\n    if (document.documentElement.clientWidth <= 577) {\n      dMobailDotsManBtn.click();\n    }\n  });\n  elipsYellow.on(\"click\", function (e) {\n    e.preventDefault();\n  });\n  elipsYellowMan.on(\"click\", function (e) {\n    e.preventDefault();\n  }); // btnGirlNext COLOR AND WIDTH\n\n  btnGirlNext.on(\"click\", function (e) {\n    e.preventDefault();\n    arrowHeart[0].style.opacity = \"1\";\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    var value = null;\n    massElipsColor.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) + 1);\n    massElipsColor.forEach(function (curValue, index, array) {\n      curValue.classList.remove(\"active\"); //\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n\n      if (dataId >= array.length) {\n        massElipsColor[0].classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = massElipsColor[0].getAttribute(\"data-Text\");\n      }\n    });\n    var datId = String(Number(value.getAttribute(\"data-id\")) + 1) >= massElipsColor.length ? \"0\" : String(Number(value.getAttribute(\"data-id\")) + 1);\n    switchFunc(datId);\n    getImgHuman(datId);\n    findAttr();\n  });\n  btnManNext.on(\"click\", function (e) {\n    e.preventDefault();\n    arrowHeartMan[0].style.opacity = \"1\";\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    var value = null;\n    massElipsColorMan.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) + 1);\n    massElipsColorMan.forEach(function (curValue, index, array) {\n      curValue.classList.remove(\"active\");\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n\n      if (dataId >= array.length) {\n        massElipsColorMan[0].classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = massElipsColorMan[0].getAttribute(\"data-Text\");\n      }\n    });\n    var datId = String(Number(value.getAttribute(\"data-id\")) + 1) >= massElipsColorMan.length ? \"0\" : String(Number(value.getAttribute(\"data-id\")) + 1);\n    switchFuncMan(datId);\n    getImgHuman(datId);\n    findAttrMan();\n  });\n  btnGirlPrev.on(\"click\", function (e) {\n    e.preventDefault();\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    arrowHeartMan[0].style.opacity = \"1\";\n    arrowHeart[0].style.opacity = \"1\";\n    var value = null;\n    massElipsColor.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) - 1) < 0 ? String(massElipsColor.length - 1) : String(Number(value.getAttribute(\"data-id\")) - 1);\n    massElipsColor.forEach(function (curValue, index) {\n      curValue.classList.remove(\"active\");\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n    });\n    switchFunc(dataId);\n    getImgHuman(dataId);\n    findAttr();\n  });\n  btnManPrev.on(\"click\", function (e) {\n    e.preventDefault();\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    arrowHeartMan[0].style.opacity = \"1\";\n    arrowHeart[0].style.opacity = \"1\";\n    var value = null;\n    massElipsColorMan.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) - 1) < 0 ? String(massElipsColorMan.length - 1) : String(Number(value.getAttribute(\"data-id\")) - 1);\n    massElipsColorMan.forEach(function (curValue, index) {\n      curValue.classList.remove(\"active\");\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n    });\n    switchFuncMan(dataId);\n    getImgHuman(dataId);\n    findAttrMan();\n  }); // btnGirlNext COLOR AND WIDTH\n  // linkSwitchBlockHuman\n\n  var dMobailDotsMan = null;\n  linkSwitchBlockHuman.on(\"click\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    var link = target.parent().attr(\"href\");\n    var content = $(link);\n    var activeImg = $(\".d_human__img\");\n    var activeImgChildren = activeImg.children();\n    Array.prototype.forEach.call(activeImgChildren, function (e, n) {\n      e.classList.remove(\"active\");\n    });\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    var parentImg = target.parent().parent();\n    var clasParent = parentImg.attr(\"class\");\n    var octive = $(\".\".concat(clasParent, \" .active\"));\n    octive.removeClass(\"active\");\n    target.addClass(\"active\");\n    activeImg.removeClass(\"active\");\n    var children = content.children();\n    Array.prototype.forEach.call($(children), function (e, n) {\n      if (e.parentNode.getAttribute(\"id\") == \"blockGirl\") {\n        if ($(window).width() >= 768) {\n          clearInterval(interval);\n          interval = setInterval(function (e) {\n            btnGirlNextInterval();\n          }, 5000);\n        }\n\n        findAttr();\n        var activeElips = document.querySelector(\".d_human__img_girl__elips.active\");\n        getImgHuman($(activeElips)[0].getAttribute(\"data-id\"));\n        $(\".d_human__list__h\")[0].innerText = $(activeElips)[0].getAttribute(\"data-Text\");\n        arrowHeartMan[0].style.opacity = \"0\";\n        arrowHeart[0].style.opacity = \"1\";\n        var dnblockUl = $(\".d_popapUlHuman\");\n        $(dnblockUl[4]).removeClass(\"d-n\");\n        var dnblockImg = $(\".d_popapSliderImg__img\");\n        $(dnblockImg[4]).removeClass(\"d-n\");\n      }\n\n      if (e.parentNode.getAttribute(\"id\") == \"blockMan\") {\n        findAttrMan();\n        var activeElipsTwo = document.querySelector(\".d_human__img_man__elips.active\");\n\n        if ($(window).width() >= 768) {\n          clearInterval(interval);\n          interval = setInterval(function (e) {\n            btnManNextInterval();\n          }, 5000);\n        }\n\n        getImgHuman($(activeElipsTwo)[0].getAttribute(\"data-id\"));\n        $(\".d_human__list__h\")[0].innerText = $(activeElipsTwo)[0].getAttribute(\"data-Text\");\n        arrowHeart[0].style.opacity = \"0\";\n        arrowHeartMan[0].style.opacity = \"1\";\n\n        var _dnblockUl = $(\".d_popapUlHuman\");\n\n        $(_dnblockUl[4]).addClass(\"d-n\");\n\n        var _dnblockImg = $(\".d_popapSliderImg__img\");\n\n        $(_dnblockImg[4]).addClass(\"d-n\");\n      }\n    });\n    content.addClass(\"active\");\n\n    if (content[0].getAttribute(\"id\") == \"blockGirl\") {\n      findAttr();\n      girlBtns[0].classList.add(\"active\");\n      manBtns[0].classList.remove(\"active\");\n      $(slidersGirl).addClass(\"active\");\n      $(slidersMan).removeClass(\"active\");\n\n      if ($(window).width() <= 520) {\n        $(\".d_human__slidersMan\").slick(\"unslick\");\n        $(\".d_human__slidersGirl\").slick({\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          dots: true,\n          autoplay: true,\n          autoplaySpeed: 5000,\n          arrows: false\n        });\n      }\n\n      dMobailDotsWoman = $(\".d_human__slidersGirl\").find(\".slick-dots\").children();\n    } else {\n      manBtns[0].classList.add(\"active\");\n      girlBtns[0].classList.remove(\"active\");\n      $(slidersMan).addClass(\"active\");\n      $(slidersGirl).removeClass(\"active\");\n\n      if (document.documentElement.clientWidth <= 577) {\n        $(\".d_human__slidersMan\").slick({\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          dots: true,\n          autoplay: true,\n          autoplaySpeed: 5000,\n          arrows: false\n        });\n        $(\".d_human__slidersGirl\").slick(\"unslick\");\n        var clickBtnSliderManPreventDefault = slidersMan.find(\"li\").children();\n        setTimeout(function () {\n          clickBtnSliderManPreventDefault[1].click();\n        }, 100); // clickBtnSliderManPreventDefault[1].addEventListener(\"hello\", function(event) {\n        //   // $(clickBtnSliderManPreventDefault[1]).click();\n        //   clickBtnSliderManPreventDefault[1].click()\n        //   return\n        // });\n        // clickBtnSliderManPreventDefault[1].dispatchEvent(new CustomEvent(\"hello\", {\n        // }));\n        // clickBtnSliderManPreventDefault[1].click(clickBtnSliderManPreventDefault[1].click())\n\n        clickBtnSliderManPreventDefault.on(\"click\", function (event) {\n          event.preventDefault();\n          event.target.disabled = true;\n        });\n      }\n\n      dMobailDotsMan = $(slidersMan).find(\".slick-dots\").children();\n    }\n  }); // linkSwitchBlockHuman\n\n  $(\".d_human__slidersGirl\").on(\"afterChange\", function (event, slick, currentSlide, nextSlide) {\n    massElipsColor.forEach(function (e) {\n      e.classList.remove(\"active\");\n    });\n    massElipsColor[currentSlide].classList.add(\"active\");\n  });\n  $(\".d_human__slidersMan\").on(\"afterChange\", function (event, slick, currentSlide, nextSlide) {\n    massElipsColorMan.forEach(function (e) {\n      e.classList.remove(\"active\");\n    });\n    massElipsColorMan[currentSlide].classList.add(\"active\");\n  });\n  var orangStroke = document.querySelector(\"#EllipseOrangStroke\");\n  var btnBackToTop = document.querySelector(\".d_backToTop\"); // let funcBackToTop = function() {\n  //   if (scrollTop >= 200) {\n  //     btnBackToTop.classList.remove(\"d-n\");\n  //     targetTop = scrollTop + $(window).height();\n  //   } else {\n  //     btnBackToTop.classList.add(\"d-n\");\n  //     targetTop = scrollTop;\n  //   }\n  //   let BodyHeight = $(\"body\").height();\n  //   let resultProcentBody = (targetTop * 100) / BodyHeight + 100;\n  //   let resultStokeOrange = (resultProcentBody * -251) / 100;\n  //   orangStroke.style.strokeDashoffset = resultStokeOrange;\n  // };\n\n  $(btnBackToTop).on(\"click\", function (e) {\n    var target = $(e.target);\n    $(\"html, body\").animate({\n      scrollTop: $(\"html, body\").offset().top\n    }, 1000);\n  });\n\n  var trottled = function trottled(func) {\n    var isTrottle = false;\n    return function () {\n      if (isTrottle) return;else {\n        var ctx = this;\n        var args = arguments;\n        func.apply(ctx, args);\n        isTrottle = true;\n        setInterval(function () {\n          isTrottle = false;\n        }, 100);\n      }\n    };\n  }; // let timer;\n  // document.addEventListener(\n  //   \"scroll\",\n  //   trottled(e => {\n  //     let target = $(e.target);\n  //     let targetTop = null;\n  //     let scrollTop = $(document).scrollTop();\n  //     if (timer) {\n  //       clearTimeout(timer);\n  //     }\n  //     timer = setTimeout(function() {\n  //       btnBackToTop.classList.add(\"d-n\");\n  //     }, 1000);\n  //     if (scrollTop >= 200) {\n  //       btnBackToTop.classList.remove(\"d-n\");\n  //       targetTop = scrollTop + $(window).height();\n  //     } else {\n  //       btnBackToTop.classList.add(\"d-n\");\n  //       targetTop = scrollTop;\n  //     }\n  //     let BodyHeight = $(document).height();\n  //     let resultProcentBody = (targetTop * 100) / BodyHeight + 100;\n  //     let resultStokeOrange = (resultProcentBody * -251) / 100;\n  //     orangStroke.style.strokeDashoffset = resultStokeOrange;\n  //     if ($(document).scrollTop() == ($(document).height() - $(window).height()) ||\n  //     $(document).scrollTop() > ($(document).height() - $(window).height())\n  //     ) {\n  //       btnBackToTop.classList.remove(\"d-n\");\n  //       clearTimeout(timer);\n  //     }\n  //   })\n  // );\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2luZGV4LmpzPzQxZjUiXSwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpIHtcclxuICAkKHdpbmRvdykuc2Nyb2xsVG9wKDApO1xyXG4gIC8vIFNMSURFUlNcclxuICAkKFwiLmRfc2xpZGVCbG9ja1wiKS5zbGljayh7XHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgYXJyb3dzOiBmYWxzZSxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgYXV0b3BsYXlTcGVlZDogNjAwMFxyXG4gIH0pO1xyXG4gIC8vSU5JVCDRgdC70LDQudC00LXRgNCwXHJcbiAgJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKS5vbihcImluaXRcIiwgZnVuY3Rpb24oZXZlbnQsIHNsaWNrKSB7XHJcbiAgICAkKGV2ZW50LnRhcmdldClcclxuICAgICAgLmZpbmQoXCJsaVwiKVsxXVxyXG4gICAgICAuY2xpY2soKTtcclxuICB9KTtcclxuICAkKFwiLmRfaHVtYW5fX3NsaWRlcnNNYW5cIikub24oXCJpbml0XCIsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaykge1xyXG4gICAgJChldmVudC50YXJnZXQpXHJcbiAgICAgIC5maW5kKFwibGlcIilbMV1cclxuICAgICAgLmNsaWNrKCk7XHJcbiAgfSk7XHJcbiAgLy9JTklUINGB0LvQsNC50LTQtdGA0LBcclxuXHJcbiAgJChcIi5kX3NsaWRlV3JhcFwiKS5zbGljayh7XHJcbiAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIGFycm93czogdHJ1ZSxcclxuICAgIHNwZWVkOiAzMDAwLFxyXG4gICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICBhdXRvcGxheVNwZWVkOiA2MDAwLFxyXG4gICAgYXNOYXZGb3I6IFwiLmRfc2xpZGVXcmFwTGFzdFwiLFxyXG4gICAgcHJldkFycm93OiAkKFwiLmRfc2xpZGVGaXJzdF9fcHJldlwiKSxcclxuICAgIG5leHRBcnJvdzogJChcIi5kX3NsaWRlRmlyc3RfX25leHRcIiksXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogODAwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgIGRvdHM6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSk7XHJcbiAgJChcIi5kX3NsaWRlV3JhcExhc3RcIikuc2xpY2soe1xyXG4gICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcblxyXG4gICAgYXNOYXZGb3I6IFwiLmRfc2xpZGVXcmFwXCIsXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgc3BlZWQ6IDMwMDAsXHJcblxyXG4gICAgY2VudGVyTW9kZTogZmFsc2UsXHJcbiAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxyXG4gICAgZm9jdXNPblNlbGVjdDogZmFsc2UsXHJcbiAgICBwcmV2QXJyb3c6ICQoXCIuZF9zbGlkZUxhc3RfX3ByZXZcIiksXHJcbiAgICBuZXh0QXJyb3c6ICQoXCIuZF9zbGlkZUxhc3RfX25leHRcIiksXHJcbiAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA4MDAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSk7XHJcbiAgJChcIi5kX2VkdWNhdGlvbkNlbnRlcl9fc2xpZGVyXCIpLnNsaWNrKHtcclxuICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgcHJldkFycm93OiAkKFwiLmRfZWR1Y2F0aW9uQ2VudGVyX19zbGlkZXJfcHJldlwiKSxcclxuICAgIG5leHRBcnJvdzogJChcIi5kX2VkdWNhdGlvbkNlbnRlcl9fc2xpZGVyX25leHRcIiksXHJcbiAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA3NzAsXHJcbiAgICAgICAgc2V0dGluZ3M6IFwidW5zbGlja1wiXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9KTtcclxuICAkKFwiLmRfZXhwZXJ0c19fc2xpZGVyc1wiKS5zbGljayh7XHJcbiAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIGFycm93czogdHJ1ZSxcclxuICAgIGRvdHM6IHRydWUsXHJcbiAgICBwcmV2QXJyb3c6ICQoXCIuZF9leHBlcnRzX19wcmV2XCIpLFxyXG4gICAgbmV4dEFycm93OiAkKFwiLmRfZXhwZXJ0c19fbmV4dFwiKSxcclxuICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDc2OSxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSk7XHJcblxyXG4gIC8vIFNMSURFUlNcclxuICAvL0dMT0JBTCBXSU5ET1cgU0NST0xMIFRPUCAwXHJcblxyXG4gIC8vR0xPQkFMIFdJTkRPVyBTQ1JPTEwgVE9QIDBcclxuXHJcbiAgLyogVGFicyAqL1xyXG4gIGxldCBkX3RhYkxpbmsgPSAkKFwiLmRfZXNzZW50aWFsc19fdGFiTGlua1wiKTtcclxuICAvKiBUYWJzICovXHJcbiAgbGV0IGFycm93SGVhcnQgPSAkKFwiLmRfaHVtYW5fX2ltZ19naXJsX19hcnJvd0hlYXJ0XCIpO1xyXG4gIGxldCBhcnJvd0hlYXJ0TWFuID0gJChcIi5kX2h1bWFuX19pbWdfZ2lybF9fYXJyb3dIZWFydF9tYW5cIik7XHJcbiAgbGV0IGh1bWFuSW1nSGVhcnQgPSAkKFwiLmRfaHVtYW5fX2ltZ19naXJsX19oZWFydFwiKTtcclxuICBsZXQgYWN0aXZlQ2xhc3NIdW1hbiA9ICQoXCIuZF9odW1hbl9faW1nX2dpcmxcIik7XHJcbiAgbGV0IGJ0bkdpcmxOZXh0ID0gJChcIi5kX2h1bWFuX19saXN0X2dpcmxfX25leHRcIik7XHJcbiAgbGV0IGJ0bkdpcmxQcmV2ID0gJChcIi5kX2h1bWFuX19saXN0X2dpcmxfX3ByZXZcIik7XHJcbiAgbGV0IGJ0bk1hbk5leHQgPSAkKFwiLmRfaHVtYW5fX2xpc3RfbWFuX19uZXh0XCIpO1xyXG4gIGxldCBidG5NYW5QcmV2ID0gJChcIi5kX2h1bWFuX19saXN0X21hbl9fcHJldlwiKTtcclxuICBsZXQgdWxBY3RpdmUgPSAkKFwiLmRfaHVtYW5fX2xpc3RfdWxcIik7XHJcbiAgbGV0IGVsaXBzWWVsbG93ID0gJChcIi5kX2h1bWFuX19pbWdfZ2lybF9fZWxpcHNcIik7XHJcbiAgbGV0IGVsaXBzWWVsbG93TWFuID0gJChcIi5kX2h1bWFuX19pbWdfbWFuX19lbGlwc1wiKTtcclxuICBsZXQgbGlua1N3aXRjaEJsb2NrSHVtYW4gPSAkKFwiLmRfaHVtYW5fX2ltZ19jaGFuZ2VHZW5kZXJfX2ltZ1wiKTtcclxuICBsZXQgZ2lybEJ0bnMgPSAkKFwiLmRfaHVtYW5fX2xpc3RfZ2lybF9fYnRuc1wiKTtcclxuICBsZXQgbWFuQnRucyA9ICQoXCIuZF9odW1hbl9fbGlzdF9tYW5fX2J0bnNcIik7XHJcbiAgbGV0IHNsaWRlcnNHaXJsID0gJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKTtcclxuICBsZXQgc2xpZGVyc01hbiA9ICQoXCIuZF9odW1hbl9fc2xpZGVyc01hblwiKTtcclxuICBsZXQgb3BlblBvcGFwTGlzdEJ0bk1hbiA9ICQoXCIuZF9odW1hbl9fc2xpZGVyTWFuX2J0blwiKTtcclxuICBsZXQgb3BlblBvcGFwTGlzdEJ0bldvbWFuID0gJChcIi5kX2h1bWFuX19zbGlkZXJHaXJsX2J0blwiKTtcclxuICBsZXQgcG9wYXBMaXN0Q2xvc2VyID0gJChcIi5kX3BvcGFwTGlzdEh1bWFuX19jbG9zZXJCdG5cIik7XHJcbiAgbGV0IHBvcGFwTGlzdFByZXZidG4gPSAkKFwiLmRfcG9wYXBTbGlkZXJCdG5fX3ByZXZcIik7XHJcbiAgbGV0IHBvcGFwTGlzdE5leHRidG4gPSAkKFwiLmRfcG9wYXBTbGlkZXJCdG5fX25leHRcIik7XHJcbiAgbGV0IGRfcG9wYXBWaWRlb0h1YiA9ICQoXCIuZF9wb3BhcFZpZGVvXCIpO1xyXG4gIGxldCBkX2J0bkNsb3NlclBvcGFwVmlkZW9IdWIgPSAkKFwiLmRfcG9wYXBWaWRlb19fY2xvc2VyXCIpO1xyXG4gIGxldCBhdXRvQ2xpY2tTbGlkZXJNb2JhaWwgPSAkKFwiLmRfaHVtYW5fX2ltZ19naXJsX19lbGlwc0hlYXJ0XCIpO1xyXG4gIC8vU1VCU1RSVEVYVFxyXG4gIGNvbnN0IGV4cGVydHNDb21tZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5kX2V4cGVydHNfX3NsaWRlckV4cGVydF9wXCJcclxuICApO1xyXG4gIGNvbnN0IGV4cGVydHNOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kX2V4cGVydHNfX3NsaWRlckV4cGVydF9oXCIpO1xyXG4gIGNvbnN0IGh1bWFuTGlzdE5hbWVBID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kX25ld3NfX2hcIik7XHJcbiAgY29uc3QgbWFpblNsaWRlVGV4dEggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRfc2xpZGVfX3RleHRfaFwiKTtcclxuICBjb25zdCBtYWluTmV3c0JpZ0NhcmRIID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kX21vcmVOZXdzX19iaWdDYXJkX2hcIik7XHJcbiAgY29uc3QgbWFpbk5ld3NMZWZ0Q2FyZEggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRfbW9yZU5ld3NfX2NhcmRfaFwiKTtcclxuICBjb25zdCBtYWluTmV3c1NtYWxsQ2FyZEggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuZF9tb3JlTmV3c19fc21hbGxDYXJkX2hcIlxyXG4gICk7XHJcbiAgY29uc3QgbWFpbmxlZnRMYXN0bmV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZF9wYWRkaW5nUmlnaHRcIik7XHJcbiAgY29uc3Qgc21hbGxDYXJkTW9yZU5ld3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuZF9tb3JlTmV3c19fc21hbGxDYXJkX3BcIlxyXG4gICk7XHJcbiAgY29uc3QgZF9zbGlkZXJGaXJzdFRleHRIID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgIFwiLmRfc2xpZGVyRmlyc3RfX3RleHRfaFwiXHJcbiAgKTtcclxuICBjb25zdCBkX3NsaWRlckxhc3RWaWRlb0ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuZF9zbGlkZXJMYXN0X192aWRlb19oQVwiXHJcbiAgKTtcclxuICAvLyBjb25zdCBkX21haW5QYWdlTmV3c0ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZF9uZXdzX19oJyk7XHJcbiAgLy8gY29uc29sZS5sb2coc21hbGxDYXJkTW9yZU5ld3MpO1xyXG5cclxuICBjb25zdCBlbmRDaGFyYWN0ZXIgPSBcIi4uLlwiO1xyXG4gIGxldCBzdWJzdHJGdW5jdGlvbiA9IChlbGVtZW50LCBzaXplKSA9PiB7XHJcbiAgICBlbGVtZW50LmZvckVhY2goZWwgPT4ge1xyXG4gICAgICBsZXQgdGV4dCA9IGVsLmlubmVySFRNTDtcclxuXHJcbiAgICAgIGlmIChlbC5pbm5lckhUTUwubGVuZ3RoID4gc2l6ZSkge1xyXG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cigwLCBzaXplKTtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSB0ZXh0ICsgZW5kQ2hhcmFjdGVyO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBzdWJzdHJGdW5jdGlvbihleHBlcnRzQ29tbWVudHMsIDEwMCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24oZXhwZXJ0c05hbWUsIDIyKTtcclxuICBzdWJzdHJGdW5jdGlvbihodW1hbkxpc3ROYW1lQSwgMzcpO1xyXG4gIHN1YnN0ckZ1bmN0aW9uKG1haW5TbGlkZVRleHRILCA2MCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24obWFpbk5ld3NCaWdDYXJkSCwgNjcpO1xyXG4gIHN1YnN0ckZ1bmN0aW9uKG1haW5OZXdzTGVmdENhcmRILCA0MCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24obWFpbk5ld3NTbWFsbENhcmRILCA0NSk7XHJcbiAgc3Vic3RyRnVuY3Rpb24obWFpbmxlZnRMYXN0bmV3cywgNTApO1xyXG4gIC8vIHN1YnN0ckZ1bmN0aW9uKHNtYWxsQ2FyZE1vcmVOZXdzLCA0Mik7XHJcbiAgc3Vic3RyRnVuY3Rpb24oZF9zbGlkZXJGaXJzdFRleHRILCA2MCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24oZF9zbGlkZXJMYXN0VmlkZW9ILCA2MCk7XHJcblxyXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA1MjApIHtcclxuICAgICQoXCIuZF9odW1hbl9fc2xpZGVyc0dpcmxcIikuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlTcGVlZDogNTAwMCxcclxuICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICBhdXRvQ2xpY2tTbGlkZXJNb2JhaWxbMF0uY2xpY2soKTtcclxuICB9XHJcblxyXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSAzNzUpIHtcclxuICAgIHN1YnN0ckZ1bmN0aW9uKGV4cGVydHNDb21tZW50cywgNDApO1xyXG4gICAgc3Vic3RyRnVuY3Rpb24oaHVtYW5MaXN0TmFtZUEsIDMzKTtcclxuICB9XHJcbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IDQ1OCkge1xyXG4gICAgc3Vic3RyRnVuY3Rpb24oaHVtYW5MaXN0TmFtZUEsIDMzKTtcclxuICB9XHJcbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IDQyMCkge1xyXG4gICAgc3Vic3RyRnVuY3Rpb24oZXhwZXJ0c0NvbW1lbnRzLCA1MCk7XHJcbiAgICBzdWJzdHJGdW5jdGlvbihodW1hbkxpc3ROYW1lQSwgMzMpO1xyXG4gIH1cclxuXHJcbiAgLy8gc3Vic3RyRnVuY3Rpb24oc21hbGxDYXJkTW9yZU5ld3MsIDIwKTtcclxuXHJcbiAgLy9TVUJTVFJURVhUXHJcbiAgbGV0IGludGVydmFsID0gbnVsbDtcclxuXHJcbiAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDc2OCkge1xyXG4gICAgaWYgKCQoYWN0aXZlQ2xhc3NIdW1hblswXSkuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcblxyXG4gICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGUgPT4ge1xyXG4gICAgICAgIGJ0bkdpcmxOZXh0SW50ZXJ2YWwoKTtcclxuICAgICAgfSwgNTAwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGJ0bkdpcmxOZXh0SW50ZXJ2YWwoKSB7XHJcbiAgICBidG5HaXJsTmV4dC5jbGljaygpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBidG5NYW5OZXh0SW50ZXJ2YWwoKSB7XHJcbiAgICBidG5NYW5OZXh0LmNsaWNrKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoJCh3aW5kb3cpLmhlaWdodCgpIDw9IDY2Nykge1xyXG4gICAgZF9idG5DbG9zZXJQb3BhcFZpZGVvSHViWzBdLnN0eWxlLnRvcCA9IFwiMTQ5cHhcIjtcclxuICAgIC8vIGNvbnNvbGUubG9nKGRfYnRuQ2xvc2VyUG9wYXBWaWRlb0h1Yik7XHJcbiAgICBcclxuICAgIGxldCBjbGlja0J0blNsaWRlckdpcmxQcmV2ZW50RGVmYXVsdCA9IHNsaWRlcnNHaXJsLmZpbmQoXCJsaVwiKS5jaGlsZHJlbigpO1xyXG4gICAgY2xpY2tCdG5TbGlkZXJHaXJsUHJldmVudERlZmF1bHQub24oXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnRhcmdldC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgICAgXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmICgkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikubGVuZ3RoKSB7XHJcbiAgICAkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZSA9PiB7XHJcbiAgICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgbGV0IHNjcm9sbGVkUGl4ZWxzID0gdGFyZ2V0LnNjcm9sbFRvcCgpO1xyXG4gICAgICBpZiAoc2Nyb2xsZWRQaXhlbHMgPj0gMTA4KSB7XHJcbiAgICAgICAgJChcIi5kX3BvcGFwTGlzdEh1bWFuXCIpWzBdLnN0eWxlLnRvcCA9IFwiNDRweFwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuZF9wb3BhcExpc3RIdW1hblwiKVswXS5zdHlsZS50b3AgPSBcIjEwOXB4XCI7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgJChcIi5kX3NsaWRlRmlyc3RcIikub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuXHJcbiAgICBsZXQgbGlua0lmcmFtZSA9IHRhcmdldC5hdHRyKFwiZGF0YS1zcmNWaWRlb1wiKTtcclxuICAgIGxldCBzcmNMaW5rID0gJChcIi5kX21vZGFsLXZpZGVvX19oZWlnaHRcIilcclxuICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgLmF0dHIoXCJzcmNcIiwgbGlua0lmcmFtZSk7XHJcbiAgfSk7XHJcbiAgJChcIi5kX3NsaWRlckxhc3RfX3ZpZGVvXCIpLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgbGV0IGxpbmtJZnJhbWUgPSB0YXJnZXQuYXR0cihcImRhdGEtc3JjVmlkZW9cIik7XHJcbiAgICBsZXQgc3JjTGluayA9ICQoXCIuZF9tb2RhbC12aWRlb19faGVpZ2h0XCIpXHJcbiAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgIC5hdHRyKFwic3JjXCIsIGxpbmtJZnJhbWUpO1xyXG4gIH0pO1xyXG5cclxuICBkX3BvcGFwVmlkZW9IdWIub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGlmIChlLnRhcmdldCAhPT0gJChcIi5kX21vZGFsLXZpZGVvX19oZWlnaHRcIikpIHtcclxuICAgICAgJChcIi5kX3BvcGFwVmlkZW9cIikuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgICAgIGxldCBkX0lmcmFtZSA9ICQoXCIuZF9tb2RhbC12aWRlb19faGVpZ2h0XCIpLmZpbmQoXCJpZnJhbWVcIik7XHJcbiAgICAgIGRfSWZyYW1lLmF0dHIoXCJzcmNcIiwgXCJcIik7XHJcbiAgICAgICQoXCJtYWluXCIpLnJlbW92ZUNsYXNzKFwiZF9ibHVyXCIpO1xyXG4gICAgICAvLyAkKCdtYWluJykuc3R5bGUuekluZGV4PSAnMCc7XHJcbiAgICAgICQoXCIuZF9wb3BhcFZpZGVvXCIpWzBdLnN0eWxlLnpJbmRleCA9IFwiMFwiO1xyXG4gICAgICAkKFwiI21hc3RoZWFkXCIpLnJlbW92ZUNsYXNzKFwiYmx1cnJlZFwiKTtcclxuICAgICAgJChcIiNjb2xvcGhvblwiKS5yZW1vdmVDbGFzcyhcImJsdXJyZWRcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGRfYnRuQ2xvc2VyUG9wYXBWaWRlb0h1Yi5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICQoXCIuZF9wb3BhcFZpZGVvXCIpLmFkZENsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgbGV0IGRfSWZyYW1lID0gJChcIi5kX21vZGFsLXZpZGVvX19oZWlnaHRcIikuZmluZChcImlmcmFtZVwiKTtcclxuICAgIGRfSWZyYW1lLmF0dHIoXCJzcmNcIiwgXCJcIik7XHJcblxyXG4gICAgJChcIm1haW5cIikucmVtb3ZlQ2xhc3MoXCJkX2JsdXJcIik7XHJcbiAgICAvLyAkKCdtYWluJykuc3R5bGUuekluZGV4PSAnMCc7XHJcbiAgICAkKFwiLmRfcG9wYXBWaWRlb1wiKVswXS5zdHlsZS56SW5kZXggPSBcIjBcIjtcclxuICAgICQoXCIjbWFzdGhlYWRcIikucmVtb3ZlQ2xhc3MoXCJibHVycmVkXCIpO1xyXG4gICAgJChcIiNjb2xvcGhvblwiKS5yZW1vdmVDbGFzcyhcImJsdXJyZWRcIik7XHJcbiAgfSk7XHJcbiAgJChcIi5kX3NsaWRlckZpcnN0X192aWRlb19hXCIpLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwibWFpblwiKS5hZGRDbGFzcyhcImRfYmx1clwiKTtcclxuICAgIC8vICQoJ21haW4nKS5zdHlsZS56SW5kZXg9ICcxMDAnO1xyXG4gICAgJChcIi5kX3BvcGFwVmlkZW9cIilbMF0uc3R5bGUuekluZGV4ID0gXCIyMDBcIjtcclxuICAgIGxldCBkX0lmcmFtZSA9ICQoXCIuZF9tb2RhbC12aWRlb19faGVpZ2h0XCIpLmZpbmQoXCJpZnJhbWVcIik7XHJcbiAgICBkX0lmcmFtZS5hdHRyKFwic3JjXCIsIFwiXCIpO1xyXG4gICAgJChcIi5kX3BvcGFwVmlkZW9cIikucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgICAkKFwiI21hc3RoZWFkXCIpLmFkZENsYXNzKFwiYmx1cnJlZFwiKTtcclxuICAgICQoXCIjY29sb3Bob25cIikuYWRkQ2xhc3MoXCJibHVycmVkXCIpO1xyXG4gIH0pO1xyXG4gICQoXCIuZF9zbGlkZXJMYXN0X192aWRlb19hXCIpLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwibWFpblwiKS5hZGRDbGFzcyhcImRfYmx1clwiKTtcclxuICAgIC8vICQoJ21haW4nKS5zdHlsZS56SW5kZXg9ICcxMDAnO1xyXG4gICAgJChcIi5kX3BvcGFwVmlkZW9cIilbMF0uc3R5bGUuekluZGV4ID0gXCIyMDBcIjtcclxuICAgICQoXCIuZF9wb3BhcFZpZGVvXCIpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgJChcIiNtYXN0aGVhZFwiKS5hZGRDbGFzcyhcImJsdXJyZWRcIik7XHJcbiAgICAkKFwiI2NvbG9waG9uXCIpLmFkZENsYXNzKFwiYmx1cnJlZFwiKTtcclxuICB9KTtcclxuXHJcbiAgcG9wYXBMaXN0Q2xvc2VyLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikuYWRkQ2xhc3MoXCJkLW5cIik7XHJcbiAgICAkKFwiLmRfcG9wYXBVbEh1bWFuXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5kX3BvcGFwU2xpZGVySW1nX19pbWdcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBsZXQgZGF0YUlkSW1nID0gJChcIi5kX3BvcGFwU2xpZGVySW1nX19pbWdcIik7XHJcbiAgICAkKFwiYm9keVwiKS5jc3MoXCJvdmVyZmxvd1lcIiwgXCJhdXRvXCIpO1xyXG4gIH0pO1xyXG4gIGxldCBjb3B5RGF0YUltZyA9IG51bGw7XHJcbiAgb3BlblBvcGFwTGlzdEJ0bldvbWFuLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBsZXQgbGluayA9IHRhcmdldC5hdHRyKFwiaHJlZlwiKTtcclxuICAgIGxldCBjb250ZW50ID0gJChsaW5rKTtcclxuXHJcbiAgICBjb250ZW50LmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgwKTtcclxuICAgICQoXCJib2R5XCIpLmNzcyhcIm92ZXJmbG93WVwiLCBcImhpZGRlblwiKTtcclxuICAgICQoXCIuZF9wb3BhcExpc3RIdW1hblwiKVswXS5zdHlsZS50b3AgPSBcIjEwOHB4XCI7XHJcbiAgICAvLyBjb25zb2xlLmxvZygkKHdpKSk7XHJcblxyXG4gICAgJChcIi5kX3BvcGFwRGl2VGV4dEhcIilbMF0uaW5uZXJUZXh0ID0gdGFyZ2V0LmF0dHIoXCJkYXRhLWJ0blRleHRcIik7XHJcbiAgICAkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikucmVtb3ZlQ2xhc3MoXCJkLW5cIik7XHJcblxyXG4gICAgbGV0IGxpc3RJbWcgPSAkKFwiLmRfcG9wYXBTbGlkZXJJbWdcIikuY2hpbGRyZW4oKTtcclxuXHJcbiAgICBsaXN0SW1nLm1hcCgoaW5kLCBlbGVtKSA9PiB7XHJcbiAgICAgIGxldCBhY3RpdmVFbGlwcyA9ICQoXCIuZF9odW1hbl9faW1nX2dpcmxfX2VsaXBzXCIpO1xyXG5cclxuICAgICAgbGV0IGFjdGl2ZUVsaXAgPSBhY3RpdmVFbGlwcy5tYXAoKGUsIGkpID0+IHtcclxuICAgICAgICBpZiAoJChpKS5oYXNDbGFzcyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgbGV0IGFjdGl2ZVVsID0gJChhY3RpdmVFbGlwKS5hdHRyKFwiaHJlZlwiKTtcclxuICAgICAgbGV0IGNvbnRlbnRVbCA9ICQoYWN0aXZlVWwpO1xyXG4gICAgICBpZiAoJChlbGVtKS5hdHRyKFwiZGF0YS1pZFwiKSA9PSBjb250ZW50VWwuYXR0cihcImlkXCIpKSB7XHJcbiAgICAgICAgJChlbGVtKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gJChcIi5kX3BvcGFwU2xpZGVySW1nXCIpLnNsaWNrKHtcclxuICAgIC8vICAgZG90czogZmFsc2UsXHJcbiAgICAvLyAgIGFycm93czogdHJ1ZSxcclxuICAgIC8vICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgLy8gICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIC8vICAgcHJldkFycm93OiAkKFwiLmRfcG9wYXBTbGlkZXJCdG5fX3ByZXZcIiksXHJcbiAgICAvLyAgIG5leHRBcnJvdzogJChcIi5kX3BvcGFwU2xpZGVyQnRuX19uZXh0IFwiKVxyXG4gICAgLy8gfSk7XHJcbiAgfSk7XHJcbiAgcG9wYXBMaXN0TmV4dGJ0bi5vbihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgbGV0IHNsaWRlciA9ICQoXCIuZF9wb3BhcFNsaWRlckltZ1wiKS5jaGlsZHJlbigpO1xyXG4gICAgbGV0IHVsU2xpZGVyTGlzdCA9ICQoXCIuZF9wb3BhcFVsSHVtYW5cIik7XHJcbiAgICBsZXQgaW5kVWwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0IGZpbHRlcmVkTGlzdCA9IHNsaWRlci5maWx0ZXIoKGksIGUpID0+IHtcclxuICAgICAgcmV0dXJuICEkKGUpLmhhc0NsYXNzKFwiZC1uXCIpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBmaWx0ZXJlZExpc3RVbCA9IHVsU2xpZGVyTGlzdC5maWx0ZXIoKGksIGUpID0+IHtcclxuICAgICAgcmV0dXJuICEkKGUpLmhhc0NsYXNzKFwiZC1uXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChmaWx0ZXJlZExpc3RVbCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPCBmaWx0ZXJlZExpc3RVbC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICBpbmRVbCA9IGkgKz0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW5kVWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkKGUpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICAkKGZpbHRlcmVkTGlzdFVsW2luZFVsXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgbGV0IGluZCA9IG51bGw7XHJcbiAgICAkKGZpbHRlcmVkTGlzdCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPCBmaWx0ZXJlZExpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgaW5kID0gaSArPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbmQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJChlKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgbGV0IGRhdGFUZXh0ID0gJChmaWx0ZXJlZExpc3RbaW5kXSkuYXR0cihcImRhdGEtVGV4dFwiKTtcclxuXHJcbiAgICAkKFwiLmRfcG9wYXBEaXZUZXh0SFwiKVswXS5pbm5lclRleHQgPSBkYXRhVGV4dDtcclxuXHJcbiAgICAkKGZpbHRlcmVkTGlzdFtpbmRdKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxuICBwb3BhcExpc3RQcmV2YnRuLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgc2xpZGVyID0gJChcIi5kX3BvcGFwU2xpZGVySW1nXCIpLmNoaWxkcmVuKCk7XHJcbiAgICBsZXQgdWxTbGlkZXJMaXN0ID0gJChcIi5kX3BvcGFwVWxIdW1hblwiKTtcclxuICAgIGxldCBpbmRVbCA9IG51bGw7XHJcblxyXG4gICAgY29uc3QgZmlsdGVyZWRMaXN0VWwgPSB1bFNsaWRlckxpc3QuZmlsdGVyKChpLCBlKSA9PiB7XHJcbiAgICAgIHJldHVybiAhJChlKS5oYXNDbGFzcyhcImQtblwiKTtcclxuICAgIH0pO1xyXG4gICAgJChmaWx0ZXJlZExpc3RVbCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgPD0gZmlsdGVyZWRMaXN0VWwubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgaW5kVWwgPSBpID0gaSAtIDE7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpIDw9IDApIHtcclxuICAgICAgICAgIGluZFVsID0gZmlsdGVyZWRMaXN0VWwubGVuZ3RoIC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW5kVWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkKGUpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChmaWx0ZXJlZExpc3RVbFtpbmRVbF0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIGxldCBpbmQgPSBudWxsO1xyXG4gICAgY29uc3QgZmlsdGVyZWRMaXN0ID0gc2xpZGVyLmZpbHRlcigoaSwgZSkgPT4ge1xyXG4gICAgICByZXR1cm4gISQoZSkuaGFzQ2xhc3MoXCJkLW5cIik7XHJcblxyXG4gICAgICAvLyBpZigkKGUpLmF0dHIoJ2RhdGEtaWQnKSA9PSAnU3RvbWFjaCcpe1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCk7XHJcblxyXG4gICAgICAvLyB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGZpbHRlcmVkTGlzdCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgPD0gZmlsdGVyZWRMaXN0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIGluZCA9IGkgPSBpIC0gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGkgPD0gMCkge1xyXG4gICAgICAgICAgaW5kID0gZmlsdGVyZWRMaXN0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkKGUpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChmaWx0ZXJlZExpc3RbaW5kXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBsZXQgZGF0YVRleHQgPSAkKGZpbHRlcmVkTGlzdFtpbmRdKS5hdHRyKFwiZGF0YS1UZXh0XCIpO1xyXG5cclxuICAgICQoXCIuZF9wb3BhcERpdlRleHRIXCIpWzBdLmlubmVyVGV4dCA9IGRhdGFUZXh0O1xyXG4gIH0pO1xyXG4gIGxldCBuZXdEYXRhSWRJbWcgPSBudWxsO1xyXG5cclxuICBvcGVuUG9wYXBMaXN0QnRuTWFuLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBsZXQgbGluayA9IHRhcmdldC5hdHRyKFwiaHJlZlwiKTtcclxuICAgIGxldCBjb250ZW50ID0gJChsaW5rKTtcclxuICAgIGNvbnRlbnQuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKDApO1xyXG4gICAgJChcImJvZHlcIikuY3NzKFwib3ZlcmZsb3dZXCIsIFwiaGlkZGVuXCIpO1xyXG4gICAgJChcIi5kX3BvcGFwTGlzdEh1bWFuXCIpWzBdLnN0eWxlLnRvcCA9IFwiMTA4cHhcIjtcclxuICAgICQoXCIuZF9wb3BhcERpdlRleHRIXCIpWzBdLmlubmVyVGV4dCA9IHRhcmdldC5hdHRyKFwiZGF0YS1idG5UZXh0XCIpO1xyXG5cclxuICAgIGxldCBkYXRhSWRJbWcgPSAkKFwiLmRfcG9wYXBTbGlkZXJJbWdfX2ltZ1wiKTtcclxuXHJcbiAgICAkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikucmVtb3ZlQ2xhc3MoXCJkLW5cIik7XHJcblxyXG4gICAgbGV0IGxpc3RJbWcgPSAkKFwiLmRfcG9wYXBTbGlkZXJJbWdcIikuY2hpbGRyZW4oKTtcclxuXHJcbiAgICBjb25zdCBmaWx0ZXJlZExpc3QgPSBsaXN0SW1nLmZpbHRlcigoaSwgZSkgPT4ge1xyXG4gICAgICByZXR1cm4gISQoZSkuaGFzQ2xhc3MoXCJkLW5cIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmaWx0ZXJlZExpc3QubWFwKChpbmQsIGVsZW0pID0+IHtcclxuICAgICAgbGV0IGFjdGl2ZUVsaXBzID0gJChcIi5kX2h1bWFuX19pbWdfbWFuX19lbGlwc1wiKTtcclxuXHJcbiAgICAgIGxldCBhY3RpdmVFbGlwID0gYWN0aXZlRWxpcHMubWFwKChlLCBpKSA9PiB7XHJcbiAgICAgICAgaWYgKCQoaSkuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBhY3RpdmVVbCA9ICQoYWN0aXZlRWxpcCkuYXR0cihcImhyZWZcIik7XHJcblxyXG4gICAgICBsZXQgY29udGVudFVsID0gJChhY3RpdmVVbCk7XHJcblxyXG4gICAgICBpZiAoJChlbGVtKS5hdHRyKFwiZGF0YS1pZFwiKSA9PSBjb250ZW50VWwuYXR0cihcImlkXCIpKSB7XHJcbiAgICAgICAgJChlbGVtKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qIFRhYnMgKi9cclxuICBkX3RhYkxpbmsub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgIGxldCBsaW5rID0gdGFyZ2V0LmF0dHIoXCJocmVmXCIpO1xyXG5cclxuICAgIGxldCBjb250ZW50ID0gJChsaW5rKTtcclxuXHJcbiAgICB2YXIgYWN0aXZlID0gJChcIi5kX2Vzc2VudGlhbHMtdGFiIC5hY3RpdmUsIC5kX2Vzc2VudGlhbHMtY29udGVudCAuYWN0aXZlIFwiKTtcclxuXHJcbiAgICBhY3RpdmUucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICB0YXJnZXQucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBjb250ZW50LmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG5cclxuICAvKiBUYWJzICovXHJcbiAgbGV0IGdldEltZ0h1bWFuID0gaWQgPT4ge1xyXG4gICAgaHVtYW5JbWdIZWFydC5tYXAoKGN1clZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpbmRleC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJcIik7XHJcbiAgICAgIGlmIChpZCA9PSBpbmRleC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSB7XHJcbiAgICAgICAgbGV0IGRhdGFTcmMgPSBpbmRleC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1R3b1wiKTtcclxuICAgICAgICBpbmRleC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgZGF0YVNyYyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgbGV0IGZpbmRBdHRyID0gKCkgPT4ge1xyXG4gICAgbWFzc0VsaXBzQ29sb3IuZm9yRWFjaChlID0+IHtcclxuICAgICAgaWYgKGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgbGV0IGxvbCA9ICQoZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTtcclxuICAgICAgICBsb2wuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgbGV0IGZpbmRBdHRyTWFuID0gKCkgPT4ge1xyXG4gICAgbWFzc0VsaXBzQ29sb3JNYW4uZm9yRWFjaChlID0+IHtcclxuICAgICAgaWYgKGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgbGV0IGxvbCA9ICQoZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTtcclxuICAgICAgICBsb2wuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgbGV0IHN3aXRjaEZ1bmMgPSBpZCA9PiB7XHJcbiAgICBzd2l0Y2ggKGlkKSB7XHJcbiAgICAgIGNhc2UgXCIwXCI6XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIi0xMXB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItODZweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMjhkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjc3cHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjFcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiNDhweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTYxcHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDFkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjk2cHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiMjVweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE0OHB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgwZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUuaGVpZ2h0ID0gXCIxNzJweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiM1wiOlxyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luVG9wID0gXCI3MnB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItNDFweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTE2ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUuaGVpZ2h0ID0gXCIxMTBweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiNFwiOlxyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luVG9wID0gXCI2MHB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItODlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTdkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjEzOXB4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI1XCI6XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjYzcHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi0xMjJweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTE1ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUuaGVpZ2h0ID0gXCIxODdweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiNlwiOlxyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luVG9wID0gXCI3OXB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItMTg0cHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKC0xNmRlZylcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLmhlaWdodCA9IFwiMzAxcHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjdcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiODlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE0OXB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgtMjVkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjI4NXB4XCI7XHJcbiAgICB9XHJcbiAgfTtcclxuICBsZXQgc3dpdGNoRnVuY01hbiA9IGlkID0+IHtcclxuICAgIHN3aXRjaCAoaWQpIHtcclxuICAgICAgY2FzZSBcIjBcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiLTJweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTc5cHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDM3ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCI3MHB4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCIxXCI6XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjUycHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi04MnB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgtNGRlZylcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLmhlaWdodCA9IFwiMTE3cHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiNDJweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE0N3B4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSg1ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCIxNzZweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiM1wiOlxyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luVG9wID0gXCI3MnB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItNDFweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTlkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5oZWlnaHQgPSBcIjEyNnB4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI0XCI6XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjYwcHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi0xMTRweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTExZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCIxNzFweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSBcIjVcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiNzlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE4NHB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgtMThkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5oZWlnaHQgPSBcIjI4N3B4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI2XCI6XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjg5cHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi0xNDlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTI3ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCIyNzdweFwiO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEVMSVBTIENPTE9SIEFORCBXSURUSFxyXG5cclxuICBsZXQgbWFzc0VsaXBzQ29sb3IgPSBbXTtcclxuICBsZXQgbWFzc0VsaXBzQ29sb3JNYW4gPSBbXTtcclxuICBlbGlwc1llbGxvdy5tYXAoKGUsIHRhcmdldCkgPT4ge1xyXG4gICAgbWFzc0VsaXBzQ29sb3IucHVzaCh0YXJnZXQpO1xyXG4gIH0pO1xyXG4gIGVsaXBzWWVsbG93TWFuLm1hcCgoZSwgdGFyZ2V0KSA9PiB7XHJcbiAgICBtYXNzRWxpcHNDb2xvck1hbi5wdXNoKHRhcmdldCk7XHJcbiAgfSk7XHJcbiAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9ICQobWFzc0VsaXBzQ29sb3IpWzFdLmdldEF0dHJpYnV0ZShcclxuICAgIFwiZGF0YS1UZXh0XCJcclxuICApO1xyXG5cclxuICAvLyBtb3VzZW92ZXIgTU9VU0VPVkVSXHJcbiAgbGV0IGRNb2JhaWxEb3RzV29tYW4gPSAkKHNsaWRlcnNHaXJsKVxyXG4gICAgLmZpbmQoXCIuc2xpY2stZG90c1wiKVxyXG4gICAgLmNoaWxkcmVuKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhkTW9iYWlsRG90c1dvbWFuKTtcclxuICAgIFxyXG4gIGVsaXBzWWVsbG93Lm9uKFwibW91c2VvdmVyXCIsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbGV0IHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuXHJcbiAgICAkKFwiLmRfaHVtYW5fX2xpc3RfX2hcIilbMF0uaW5uZXJUZXh0ID0gdGFyZ2V0WzBdLmdldEF0dHJpYnV0ZShcImRhdGEtVGV4dFwiKTtcclxuICAgIHVsQWN0aXZlLm1hcCgoaW5kZXgsIHVsKSA9PiB7XHJcbiAgICAgIHVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICAgIGdldEltZ0h1bWFuKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpO1xyXG5cclxuICAgIGVsaXBzWWVsbG93Lm1hcCgoZSwgdGFyZ2V0KSA9PiB7XHJcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PSBcImJsb2NrR2lybFwiKSB7XHJcbiAgICAgIHN3aXRjaEZ1bmMoZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PSBcImJsb2NrTWFuXCIpIHtcclxuICAgICAgc3dpdGNoRnVuY01hbihlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICB0YXJnZXQuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBmaW5kQXR0cigpO1xyXG4gICAgbGV0IGF0dHJZZWxsb3dDaXJjbGUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpO1xyXG4gICAgbGV0IGRNb2JhaWxEb3RzV29tYW5CdG4gPSAkKGRNb2JhaWxEb3RzV29tYW5bYXR0clllbGxvd0NpcmNsZV0pLmNoaWxkcmVuKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhkTW9iYWlsRG90c1dvbWFuQnRuKTtcclxuXHJcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDw9IDU3Nykge1xyXG4gICAgICBkTW9iYWlsRG90c1dvbWFuQnRuLmNsaWNrKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGVsaXBzWWVsbG93TWFuLm9uKFwibW91c2VvdmVyXCIsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbGV0IHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuXHJcbiAgICAkKFwiLmRfaHVtYW5fX2xpc3RfX2hcIilbMF0uaW5uZXJUZXh0ID0gdGFyZ2V0WzBdLmdldEF0dHJpYnV0ZShcImRhdGEtVGV4dFwiKTtcclxuXHJcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHVsQWN0aXZlLCB1bCA9PiB7XHJcbiAgICAgIHVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICAgIGdldEltZ0h1bWFuKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpO1xyXG5cclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxpcHNZZWxsb3dNYW4sIHRhcmdldCA9PiB7XHJcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT0gXCJibG9ja0dpcmxcIikge1xyXG4gICAgICBzd2l0Y2hGdW5jKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpO1xyXG4gICAgfVxyXG4gICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT0gXCJibG9ja01hblwiKSB7XHJcbiAgICAgIHN3aXRjaEZ1bmNNYW4oZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGFyZ2V0LmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgZmluZEF0dHJNYW4oKTtcclxuICAgIGxldCBhdHRyWWVsbG93Q2lyY2xlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKTtcclxuICAgIGxldCBkTW9iYWlsRG90c01hbkJ0biA9ICQoZE1vYmFpbERvdHNNYW5bYXR0clllbGxvd0NpcmNsZV0pLmNoaWxkcmVuKCk7XHJcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDw9IDU3Nykge1xyXG4gICAgICBkTW9iYWlsRG90c01hbkJ0bi5jbGljaygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGVsaXBzWWVsbG93Lm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfSk7XHJcbiAgZWxpcHNZZWxsb3dNYW4ub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gYnRuR2lybE5leHQgQ09MT1IgQU5EIFdJRFRIXHJcblxyXG4gIGJ0bkdpcmxOZXh0Lm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgYXJyb3dIZWFydFswXS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHVsQWN0aXZlLCB1bCA9PiB7XHJcbiAgICAgIHVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcblxyXG4gICAgbWFzc0VsaXBzQ29sb3IuZm9yRWFjaCgoY3VyVmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJWYWx1ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICB2YWx1ZSA9IGN1clZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGxldCBkYXRhSWQgPSBTdHJpbmcoTnVtYmVyKHZhbHVlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpICsgMSk7XHJcblxyXG4gICAgbWFzc0VsaXBzQ29sb3IuZm9yRWFjaCgoY3VyVmFsdWUsIGluZGV4LCBhcnJheSkgPT4ge1xyXG4gICAgICBjdXJWYWx1ZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgLy9cclxuICAgICAgaWYgKGluZGV4ID09IGRhdGFJZCkge1xyXG4gICAgICAgIGN1clZhbHVlLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICQoXCIuZF9odW1hbl9fbGlzdF9faFwiKVswXS5pbm5lclRleHQgPSAkKGN1clZhbHVlKVswXS5nZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICBcImRhdGEtVGV4dFwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZGF0YUlkID49IGFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIG1hc3NFbGlwc0NvbG9yWzBdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9IG1hc3NFbGlwc0NvbG9yWzBdLmdldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwiZGF0YS1UZXh0XCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGxldCBkYXRJZCA9XHJcbiAgICAgIFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgKyAxKSA+PSBtYXNzRWxpcHNDb2xvci5sZW5ndGhcclxuICAgICAgICA/IFwiMFwiXHJcbiAgICAgICAgOiBTdHJpbmcoTnVtYmVyKHZhbHVlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpICsgMSk7XHJcbiAgICBzd2l0Y2hGdW5jKGRhdElkKTtcclxuICAgIGdldEltZ0h1bWFuKGRhdElkKTtcclxuXHJcbiAgICBmaW5kQXR0cigpO1xyXG4gIH0pO1xyXG4gIGJ0bk1hbk5leHQub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG5cclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodWxBY3RpdmUsIHVsID0+IHtcclxuICAgICAgdWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcblxyXG4gICAgbWFzc0VsaXBzQ29sb3JNYW4uZm9yRWFjaCgoY3VyVmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJWYWx1ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICB2YWx1ZSA9IGN1clZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGxldCBkYXRhSWQgPSBTdHJpbmcoTnVtYmVyKHZhbHVlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpICsgMSk7XHJcblxyXG4gICAgbWFzc0VsaXBzQ29sb3JNYW4uZm9yRWFjaCgoY3VyVmFsdWUsIGluZGV4LCBhcnJheSkgPT4ge1xyXG4gICAgICBjdXJWYWx1ZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICBpZiAoaW5kZXggPT0gZGF0YUlkKSB7XHJcbiAgICAgICAgY3VyVmFsdWUuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKFwiLmRfaHVtYW5fX2xpc3RfX2hcIilbMF0uaW5uZXJUZXh0ID0gJChjdXJWYWx1ZSlbMF0uZ2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgXCJkYXRhLVRleHRcIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGRhdGFJZCA+PSBhcnJheS5sZW5ndGgpIHtcclxuICAgICAgICBtYXNzRWxpcHNDb2xvck1hblswXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoXCIuZF9odW1hbl9fbGlzdF9faFwiKVswXS5pbm5lclRleHQgPSBtYXNzRWxpcHNDb2xvck1hblswXS5nZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICBcImRhdGEtVGV4dFwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGRhdElkID1cclxuICAgICAgU3RyaW5nKE51bWJlcih2YWx1ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSArIDEpID49XHJcbiAgICAgIG1hc3NFbGlwc0NvbG9yTWFuLmxlbmd0aFxyXG4gICAgICAgID8gXCIwXCJcclxuICAgICAgICA6IFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgKyAxKTtcclxuICAgIHN3aXRjaEZ1bmNNYW4oZGF0SWQpO1xyXG4gICAgZ2V0SW1nSHVtYW4oZGF0SWQpO1xyXG5cclxuICAgIGZpbmRBdHRyTWFuKCk7XHJcbiAgfSk7XHJcblxyXG4gIGJ0bkdpcmxQcmV2Lm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHVsQWN0aXZlLCB1bCA9PiB7XHJcbiAgICAgIHVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgYXJyb3dIZWFydFswXS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcblxyXG4gICAgbGV0IHZhbHVlID0gbnVsbDtcclxuICAgIG1hc3NFbGlwc0NvbG9yLmZvckVhY2goKGN1clZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoY3VyVmFsdWUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBjdXJWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGRhdGFJZCA9XHJcbiAgICAgIFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgLSAxKSA8IDBcclxuICAgICAgICA/IFN0cmluZyhtYXNzRWxpcHNDb2xvci5sZW5ndGggLSAxKVxyXG4gICAgICAgIDogU3RyaW5nKE51bWJlcih2YWx1ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSAtIDEpO1xyXG5cclxuICAgIG1hc3NFbGlwc0NvbG9yLmZvckVhY2goKGN1clZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICBjdXJWYWx1ZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgaWYgKGluZGV4ID09IGRhdGFJZCkge1xyXG4gICAgICAgIGN1clZhbHVlLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9ICQoY3VyVmFsdWUpWzBdLmdldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwiZGF0YS1UZXh0XCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHN3aXRjaEZ1bmMoZGF0YUlkKTtcclxuICAgIGdldEltZ0h1bWFuKGRhdGFJZCk7XHJcbiAgICBmaW5kQXR0cigpO1xyXG4gIH0pO1xyXG4gIGJ0bk1hblByZXYub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodWxBY3RpdmUsIHVsID0+IHtcclxuICAgICAgdWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcbiAgICBtYXNzRWxpcHNDb2xvck1hbi5mb3JFYWNoKChjdXJWYWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGN1clZhbHVlLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgIHZhbHVlID0gY3VyVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBkYXRhSWQgPVxyXG4gICAgICBTdHJpbmcoTnVtYmVyKHZhbHVlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpIC0gMSkgPCAwXHJcbiAgICAgICAgPyBTdHJpbmcobWFzc0VsaXBzQ29sb3JNYW4ubGVuZ3RoIC0gMSlcclxuICAgICAgICA6IFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgLSAxKTtcclxuXHJcbiAgICBtYXNzRWxpcHNDb2xvck1hbi5mb3JFYWNoKChjdXJWYWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgY3VyVmFsdWUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgIGlmIChpbmRleCA9PSBkYXRhSWQpIHtcclxuICAgICAgICBjdXJWYWx1ZS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoXCIuZF9odW1hbl9fbGlzdF9faFwiKVswXS5pbm5lclRleHQgPSAkKGN1clZhbHVlKVswXS5nZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICBcImRhdGEtVGV4dFwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBzd2l0Y2hGdW5jTWFuKGRhdGFJZCk7XHJcbiAgICBnZXRJbWdIdW1hbihkYXRhSWQpO1xyXG4gICAgZmluZEF0dHJNYW4oKTtcclxuICB9KTtcclxuICAvLyBidG5HaXJsTmV4dCBDT0xPUiBBTkQgV0lEVEhcclxuICAvLyBsaW5rU3dpdGNoQmxvY2tIdW1hblxyXG4gIGxldCBkTW9iYWlsRG90c01hbiA9IG51bGw7XHJcblxyXG4gIGxpbmtTd2l0Y2hCbG9ja0h1bWFuLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBsZXQgbGluayA9IHRhcmdldC5wYXJlbnQoKS5hdHRyKFwiaHJlZlwiKTtcclxuICAgIGxldCBjb250ZW50ID0gJChsaW5rKTtcclxuICAgIHZhciBhY3RpdmVJbWcgPSAkKFwiLmRfaHVtYW5fX2ltZ1wiKTtcclxuXHJcbiAgICBsZXQgYWN0aXZlSW1nQ2hpbGRyZW4gPSBhY3RpdmVJbWcuY2hpbGRyZW4oKTtcclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYWN0aXZlSW1nQ2hpbGRyZW4sIChlLCBuKSA9PiB7XHJcbiAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh1bEFjdGl2ZSwgdWwgPT4ge1xyXG4gICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICBsZXQgcGFyZW50SW1nID0gdGFyZ2V0LnBhcmVudCgpLnBhcmVudCgpO1xyXG5cclxuICAgIGxldCBjbGFzUGFyZW50ID0gcGFyZW50SW1nLmF0dHIoXCJjbGFzc1wiKTtcclxuICAgIGxldCBvY3RpdmUgPSAkKGAuJHtjbGFzUGFyZW50fSAuYWN0aXZlYCk7XHJcblxyXG4gICAgb2N0aXZlLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgdGFyZ2V0LmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIGFjdGl2ZUltZy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIGxldCBjaGlsZHJlbiA9IGNvbnRlbnQuY2hpbGRyZW4oKTtcclxuXHJcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKCQoY2hpbGRyZW4pLCAoZSwgbikgPT4ge1xyXG4gICAgICBpZiAoZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImlkXCIpID09IFwiYmxvY2tHaXJsXCIpIHtcclxuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPj0gNzY4KSB7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZSA9PiB7XHJcbiAgICAgICAgICAgIGJ0bkdpcmxOZXh0SW50ZXJ2YWwoKTtcclxuICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmluZEF0dHIoKTtcclxuICAgICAgICBsZXQgYWN0aXZlRWxpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgXCIuZF9odW1hbl9faW1nX2dpcmxfX2VsaXBzLmFjdGl2ZVwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICBnZXRJbWdIdW1hbigkKGFjdGl2ZUVsaXBzKVswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKTtcclxuICAgICAgICAkKFwiLmRfaHVtYW5fX2xpc3RfX2hcIilbMF0uaW5uZXJUZXh0ID0gJChhY3RpdmVFbGlwcylbMF0uZ2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgXCJkYXRhLVRleHRcIlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgICAgIGxldCBkbmJsb2NrVWwgPSAkKFwiLmRfcG9wYXBVbEh1bWFuXCIpO1xyXG4gICAgICAgICQoZG5ibG9ja1VsWzRdKS5yZW1vdmVDbGFzcyhcImQtblwiKTtcclxuICAgICAgICBsZXQgZG5ibG9ja0ltZyA9ICQoXCIuZF9wb3BhcFNsaWRlckltZ19faW1nXCIpO1xyXG4gICAgICAgICQoZG5ibG9ja0ltZ1s0XSkucmVtb3ZlQ2xhc3MoXCJkLW5cIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PSBcImJsb2NrTWFuXCIpIHtcclxuICAgICAgICBmaW5kQXR0ck1hbigpO1xyXG4gICAgICAgIGxldCBhY3RpdmVFbGlwc1R3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICBcIi5kX2h1bWFuX19pbWdfbWFuX19lbGlwcy5hY3RpdmVcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDc2OCkge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGUgPT4ge1xyXG4gICAgICAgICAgICBidG5NYW5OZXh0SW50ZXJ2YWwoKTtcclxuICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0SW1nSHVtYW4oJChhY3RpdmVFbGlwc1R3bylbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSk7XHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9ICQoYWN0aXZlRWxpcHNUd28pWzBdLmdldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwiZGF0YS1UZXh0XCJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgICAgICBsZXQgZG5ibG9ja1VsID0gJChcIi5kX3BvcGFwVWxIdW1hblwiKTtcclxuICAgICAgICAkKGRuYmxvY2tVbFs0XSkuYWRkQ2xhc3MoXCJkLW5cIik7XHJcbiAgICAgICAgbGV0IGRuYmxvY2tJbWcgPSAkKFwiLmRfcG9wYXBTbGlkZXJJbWdfX2ltZ1wiKTtcclxuICAgICAgICAkKGRuYmxvY2tJbWdbNF0pLmFkZENsYXNzKFwiZC1uXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnRlbnQuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgaWYgKGNvbnRlbnRbMF0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT0gXCJibG9ja0dpcmxcIikge1xyXG4gICAgICBmaW5kQXR0cigpO1xyXG4gICAgICBnaXJsQnRuc1swXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICBtYW5CdG5zWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICQoc2xpZGVyc0dpcmwpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAkKHNsaWRlcnNNYW4pLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gNTIwKSB7XHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19zbGlkZXJzTWFuXCIpLnNsaWNrKFwidW5zbGlja1wiKTtcclxuXHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKS5zbGljayh7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZE1vYmFpbERvdHNXb21hbiA9ICQoXCIuZF9odW1hbl9fc2xpZGVyc0dpcmxcIilcclxuICAgICAgICAuZmluZChcIi5zbGljay1kb3RzXCIpXHJcbiAgICAgICAgLmNoaWxkcmVuKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtYW5CdG5zWzBdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgIGdpcmxCdG5zWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICQoc2xpZGVyc01hbikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICQoc2xpZGVyc0dpcmwpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8PSA1NzcpIHtcclxuICAgICAgICAkKFwiLmRfaHVtYW5fX3NsaWRlcnNNYW5cIikuc2xpY2soe1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICBhdXRvcGxheVNwZWVkOiA1MDAwLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIuZF9odW1hbl9fc2xpZGVyc0dpcmxcIikuc2xpY2soXCJ1bnNsaWNrXCIpO1xyXG5cclxuICAgICAgICBsZXQgY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdCA9IHNsaWRlcnNNYW4uZmluZChcImxpXCIpLmNoaWxkcmVuKCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdFsxXS5jbGljaygpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgLy8gY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdFsxXS5hZGRFdmVudExpc3RlbmVyKFwiaGVsbG9cIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAvLyAgIC8vICQoY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdFsxXSkuY2xpY2soKTtcclxuICAgICAgICAvLyAgIGNsaWNrQnRuU2xpZGVyTWFuUHJldmVudERlZmF1bHRbMV0uY2xpY2soKVxyXG4gICAgICAgIC8vICAgcmV0dXJuXHJcblxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIGNsaWNrQnRuU2xpZGVyTWFuUHJldmVudERlZmF1bHRbMV0uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJoZWxsb1wiLCB7XHJcblxyXG4gICAgICAgIC8vIH0pKTtcclxuXHJcbiAgICAgICAgLy8gY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdFsxXS5jbGljayhjbGlja0J0blNsaWRlck1hblByZXZlbnREZWZhdWx0WzFdLmNsaWNrKCkpXHJcblxyXG4gICAgICAgIGNsaWNrQnRuU2xpZGVyTWFuUHJldmVudERlZmF1bHQub24oXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgZXZlbnQudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZE1vYmFpbERvdHNNYW4gPSAkKHNsaWRlcnNNYW4pXHJcbiAgICAgICAgLmZpbmQoXCIuc2xpY2stZG90c1wiKVxyXG4gICAgICAgIC5jaGlsZHJlbigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIC8vIGxpbmtTd2l0Y2hCbG9ja0h1bWFuXHJcblxyXG4gICQoXCIuZF9odW1hbl9fc2xpZGVyc0dpcmxcIikub24oXCJhZnRlckNoYW5nZVwiLCBmdW5jdGlvbihcclxuICAgIGV2ZW50LFxyXG4gICAgc2xpY2ssXHJcbiAgICBjdXJyZW50U2xpZGUsXHJcbiAgICBuZXh0U2xpZGVcclxuICApIHtcclxuICAgIG1hc3NFbGlwc0NvbG9yLmZvckVhY2goZSA9PiB7XHJcbiAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgbWFzc0VsaXBzQ29sb3JbY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG5cclxuICAkKFwiLmRfaHVtYW5fX3NsaWRlcnNNYW5cIikub24oXCJhZnRlckNoYW5nZVwiLCBmdW5jdGlvbihcclxuICAgIGV2ZW50LFxyXG4gICAgc2xpY2ssXHJcbiAgICBjdXJyZW50U2xpZGUsXHJcbiAgICBuZXh0U2xpZGVcclxuICApIHtcclxuICAgIG1hc3NFbGlwc0NvbG9yTWFuLmZvckVhY2goZSA9PiB7XHJcbiAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgbWFzc0VsaXBzQ29sb3JNYW5bY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG4gIGxldCBvcmFuZ1N0cm9rZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjRWxsaXBzZU9yYW5nU3Ryb2tlXCIpO1xyXG4gIGxldCBidG5CYWNrVG9Ub3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRfYmFja1RvVG9wXCIpO1xyXG4gIC8vIGxldCBmdW5jQmFja1RvVG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgLy8gICBpZiAoc2Nyb2xsVG9wID49IDIwMCkge1xyXG4gIC8vICAgICBidG5CYWNrVG9Ub3AuY2xhc3NMaXN0LnJlbW92ZShcImQtblwiKTtcclxuICAvLyAgICAgdGFyZ2V0VG9wID0gc2Nyb2xsVG9wICsgJCh3aW5kb3cpLmhlaWdodCgpO1xyXG4gIC8vICAgfSBlbHNlIHtcclxuICAvLyAgICAgYnRuQmFja1RvVG9wLmNsYXNzTGlzdC5hZGQoXCJkLW5cIik7XHJcbiAgLy8gICAgIHRhcmdldFRvcCA9IHNjcm9sbFRvcDtcclxuICAvLyAgIH1cclxuXHJcbiAgLy8gICBsZXQgQm9keUhlaWdodCA9ICQoXCJib2R5XCIpLmhlaWdodCgpO1xyXG4gIC8vICAgbGV0IHJlc3VsdFByb2NlbnRCb2R5ID0gKHRhcmdldFRvcCAqIDEwMCkgLyBCb2R5SGVpZ2h0ICsgMTAwO1xyXG5cclxuICAvLyAgIGxldCByZXN1bHRTdG9rZU9yYW5nZSA9IChyZXN1bHRQcm9jZW50Qm9keSAqIC0yNTEpIC8gMTAwO1xyXG4gIC8vICAgb3JhbmdTdHJva2Uuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IHJlc3VsdFN0b2tlT3JhbmdlO1xyXG4gIC8vIH07XHJcbiAgJChidG5CYWNrVG9Ub3ApLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcclxuICAgICAge1xyXG4gICAgICAgIHNjcm9sbFRvcDogJChcImh0bWwsIGJvZHlcIikub2Zmc2V0KCkudG9wXHJcbiAgICAgIH0sXHJcbiAgICAgIDEwMDBcclxuICAgICk7XHJcbiAgfSk7XHJcbiAgbGV0IHRyb3R0bGVkID0gZnVuYyA9PiB7XHJcbiAgICBsZXQgaXNUcm90dGxlID0gZmFsc2U7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChpc1Ryb3R0bGUpIHJldHVybjtcclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGxldCBhcmdzID0gYXJndW1lbnRzO1xyXG5cclxuICAgICAgICBmdW5jLmFwcGx5KGN0eCwgYXJncyk7XHJcblxyXG4gICAgICAgIGlzVHJvdHRsZSA9IHRydWU7XHJcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgaXNUcm90dGxlID0gZmFsc2U7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG4gIC8vIGxldCB0aW1lcjtcclxuXHJcbiAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAvLyAgIFwic2Nyb2xsXCIsXHJcbiAgLy8gICB0cm90dGxlZChlID0+IHtcclxuXHJcbiAgLy8gICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAvLyAgICAgbGV0IHRhcmdldFRvcCA9IG51bGw7XHJcbiAgLy8gICAgIGxldCBzY3JvbGxUb3AgPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKTtcclxuICAvLyAgICAgaWYgKHRpbWVyKSB7XHJcbiAgLy8gICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAvLyAgICAgfVxyXG4gIC8vICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgLy8gICAgICAgYnRuQmFja1RvVG9wLmNsYXNzTGlzdC5hZGQoXCJkLW5cIik7XHJcbiAgLy8gICAgIH0sIDEwMDApO1xyXG5cclxuICAvLyAgICAgaWYgKHNjcm9sbFRvcCA+PSAyMDApIHtcclxuICAvLyAgICAgICBidG5CYWNrVG9Ub3AuY2xhc3NMaXN0LnJlbW92ZShcImQtblwiKTtcclxuICAvLyAgICAgICB0YXJnZXRUb3AgPSBzY3JvbGxUb3AgKyAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcblxyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgIGJ0bkJhY2tUb1RvcC5jbGFzc0xpc3QuYWRkKFwiZC1uXCIpO1xyXG4gIC8vICAgICAgIHRhcmdldFRvcCA9IHNjcm9sbFRvcDtcclxuICAvLyAgICAgfVxyXG5cclxuICAvLyAgICAgbGV0IEJvZHlIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKTtcclxuICAvLyAgICAgbGV0IHJlc3VsdFByb2NlbnRCb2R5ID0gKHRhcmdldFRvcCAqIDEwMCkgLyBCb2R5SGVpZ2h0ICsgMTAwO1xyXG5cclxuICAvLyAgICAgbGV0IHJlc3VsdFN0b2tlT3JhbmdlID0gKHJlc3VsdFByb2NlbnRCb2R5ICogLTI1MSkgLyAxMDA7XHJcbiAgLy8gICAgIG9yYW5nU3Ryb2tlLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSByZXN1bHRTdG9rZU9yYW5nZTtcclxuXHJcbiAgLy8gICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA9PSAoJChkb2N1bWVudCkuaGVpZ2h0KCkgLSAkKHdpbmRvdykuaGVpZ2h0KCkpIHx8XHJcbiAgLy8gICAgICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gKCQoZG9jdW1lbnQpLmhlaWdodCgpIC0gJCh3aW5kb3cpLmhlaWdodCgpKVxyXG4gIC8vICAgICApIHtcclxuICAvLyAgICAgICBidG5CYWNrVG9Ub3AuY2xhc3NMaXN0LnJlbW92ZShcImQtblwiKTtcclxuICAvLyAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9KVxyXG4gIC8vICk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFGQTtBQVpBO0FBc0JBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQWRBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBUEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFGQTtBQVJBO0FBa0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0NBO0FBaURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFDQTtBQTRDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQURBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./index.js\n");
=======
eval("$(function () {\n  $(window).scrollTop(0); // SLIDERS\n\n  $(\".d_slideBlock\").slick({\n    dots: true,\n    arrows: false,\n    autoplay: true,\n    autoplaySpeed: 6000\n  }); //INIT слайдера\n\n  $(\".d_human__slidersGirl\").on(\"init\", function (event, slick) {\n    $(event.target).find(\"li\")[1].click();\n  });\n  $(\".d_human__slidersMan\").on(\"init\", function (event, slick) {\n    $(event.target).find(\"li\")[1].click();\n  }); //INIT слайдера\n\n  $(\".d_slideWrap\").slick({\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    arrows: true,\n    speed: 3000,\n    autoplay: true,\n    autoplaySpeed: 6000,\n    asNavFor: \".d_slideWrapLast\",\n    prevArrow: $(\".d_slideFirst__prev\"),\n    nextArrow: $(\".d_slideFirst__next\"),\n    dots: true,\n    responsive: [{\n      breakpoint: 800,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        dots: false\n      }\n    }]\n  });\n  $(\".d_slideWrapLast\").slick({\n    slidesToShow: 2,\n    slidesToScroll: 1,\n    asNavFor: \".d_slideWrap\",\n    dots: true,\n    speed: 3000,\n    centerMode: false,\n    variableWidth: true,\n    focusOnSelect: false,\n    prevArrow: $(\".d_slideLast__prev\"),\n    nextArrow: $(\".d_slideLast__next\"),\n    responsive: [{\n      breakpoint: 800,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  });\n  $(\".d_educationCenter__slider\").slick({\n    slidesToShow: 4,\n    slidesToScroll: 1,\n    arrows: true,\n    prevArrow: $(\".d_educationCenter__slider_prev\"),\n    nextArrow: $(\".d_educationCenter__slider_next\"),\n    responsive: [{\n      breakpoint: 770,\n      settings: \"unslick\"\n    }]\n  });\n  $(\".d_experts__sliders\").slick({\n    slidesToShow: 2,\n    slidesToScroll: 1,\n    arrows: true,\n    dots: true,\n    prevArrow: $(\".d_experts__prev\"),\n    nextArrow: $(\".d_experts__next\"),\n    responsive: [{\n      breakpoint: 769,\n      settings: {\n        slidesToShow: 1\n      }\n    }]\n  }); // SLIDERS\n  //GLOBAL WINDOW SCROLL TOP 0\n  //GLOBAL WINDOW SCROLL TOP 0\n\n  /* Tabs */\n\n  var d_tabLink = $(\".d_essentials__tabLink\");\n  /* Tabs */\n\n  var arrowHeart = $(\".d_human__img_girl__arrowHeart\");\n  var arrowHeartMan = $(\".d_human__img_girl__arrowHeart_man\");\n  var humanImgHeart = $(\".d_human__img_girl__heart\");\n  var activeClassHuman = $(\".d_human__img_girl\");\n  var btnGirlNext = $(\".d_human__list_girl__next\");\n  var btnGirlPrev = $(\".d_human__list_girl__prev\");\n  var btnManNext = $(\".d_human__list_man__next\");\n  var btnManPrev = $(\".d_human__list_man__prev\");\n  var ulActive = $(\".d_human__list_ul\");\n  var elipsYellow = $(\".d_human__img_girl__elips\");\n  var elipsYellowMan = $(\".d_human__img_man__elips\");\n  var linkSwitchBlockHuman = $(\".d_human__img_changeGender__img\");\n  var girlBtns = $(\".d_human__list_girl__btns\");\n  var manBtns = $(\".d_human__list_man__btns\");\n  var slidersGirl = $(\".d_human__slidersGirl\");\n  var slidersMan = $(\".d_human__slidersMan\");\n  var openPopapListBtnMan = $(\".d_human__sliderMan_btn\");\n  var openPopapListBtnWoman = $(\".d_human__sliderGirl_btn\");\n  var popapListCloser = $(\".d_popapListHuman__closerBtn\");\n  var popapListPrevbtn = $(\".d_popapSliderBtn__prev\");\n  var popapListNextbtn = $(\".d_popapSliderBtn__next\");\n  var d_popapVideoHub = $(\".d_popapVideo\");\n  var d_btnCloserPopapVideoHub = $(\".d_popapVideo__closer\");\n  var autoClickSliderMobail = $(\".d_human__img_girl__elipsHeart\"); //SUBSTRTEXT\n\n  var expertsComments = document.querySelectorAll(\".d_experts__sliderExpert_p\");\n  var expertsName = document.querySelectorAll(\".d_experts__sliderExpert_h\");\n  var humanListNameA = document.querySelectorAll(\".d_news__h\");\n  var mainSlideTextH = document.querySelectorAll(\".d_slide__text_h\");\n  var mainNewsBigCardH = document.querySelectorAll(\".d_moreNews__bigCard_h\");\n  var mainNewsLeftCardH = document.querySelectorAll(\".d_moreNews__card_h\");\n  var mainNewsSmallCardH = document.querySelectorAll(\".d_moreNews__smallCard_h\");\n  var mainleftLastnews = document.querySelectorAll(\".d_paddingRight\");\n  var smallCardMoreNews = document.querySelectorAll(\".d_moreNews__smallCard_p\");\n  var d_sliderFirstTextH = document.querySelectorAll(\".d_sliderFirst__text_h\");\n  var d_sliderLastVideoH = document.querySelectorAll(\".d_sliderLast__video_hA\"); // const d_mainPageNewsH = document.querySelectorAll('.d_news__h');\n  // console.log(smallCardMoreNews);\n\n  var endCharacter = \"...\";\n\n  var substrFunction = function substrFunction(element, size) {\n    element.forEach(function (el) {\n      var text = el.innerHTML;\n\n      if (el.innerHTML.length > size) {\n        text = text.substr(0, size);\n        el.innerHTML = text + endCharacter;\n      }\n    });\n  };\n\n  substrFunction(expertsComments, 100);\n  substrFunction(expertsName, 22);\n  substrFunction(humanListNameA, 37);\n  substrFunction(mainSlideTextH, 60);\n  substrFunction(mainNewsBigCardH, 67);\n  substrFunction(mainNewsLeftCardH, 40);\n  substrFunction(mainNewsSmallCardH, 45);\n  substrFunction(mainleftLastnews, 50); // substrFunction(smallCardMoreNews, 42);\n\n  substrFunction(d_sliderFirstTextH, 60);\n  substrFunction(d_sliderLastVideoH, 60);\n\n  if ($(window).width() <= 520) {\n    $(\".d_human__slidersGirl\").slick({\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      dots: true,\n      autoplay: true,\n      autoplaySpeed: 5000,\n      arrows: false\n    });\n    autoClickSliderMobail[0].click();\n  }\n\n  if ($(window).width() <= 375) {\n    substrFunction(expertsComments, 40);\n    substrFunction(humanListNameA, 33);\n  }\n\n  if ($(window).width() <= 458) {\n    substrFunction(humanListNameA, 33);\n  }\n\n  if ($(window).width() <= 420) {\n    substrFunction(expertsComments, 50);\n    substrFunction(humanListNameA, 33);\n  } // substrFunction(smallCardMoreNews, 20);\n  //SUBSTRTEXT\n\n\n  var interval = null;\n\n  if ($(window).width() >= 768) {\n    if ($(activeClassHuman[0]).hasClass(\"active\")) {\n      clearInterval(interval);\n      interval = setInterval(function (e) {\n        btnGirlNextInterval();\n      }, 5000);\n    }\n  }\n\n  function btnGirlNextInterval() {\n    btnGirlNext.click();\n  }\n\n  function btnManNextInterval() {\n    btnManNext.click();\n  }\n\n  if ($(window).height() <= 667) {\n    d_btnCloserPopapVideoHub[0].style.top = \"149px\";\n    var clickBtnSliderGirlPreventDefault = slidersGirl.find(\"li\").children();\n    clickBtnSliderGirlPreventDefault.on(\"click\", function (event) {\n      event.preventDefault();\n      event.target.disabled = true;\n    });\n  }\n\n  if ($(\".d_popapListHuman\").length) {\n    $(window).on(\"scroll\", function (e) {\n      var target = $(e.target);\n      var scrolledPixels = target.scrollTop();\n\n      if (scrolledPixels >= 108) {\n        $(\".d_popapListHuman\")[0].style.top = \"44px\";\n      } else {\n        $(\".d_popapListHuman\")[0].style.top = \"109px\";\n      }\n    });\n  }\n\n  $(\".d_slideFirst\").on(\"click\", function (e) {\n    var target = $(e.target);\n    var linkIframe = target.attr(\"data-srcVideo\");\n    var srcLink = $(\".d_modal-video__height\").children().attr(\"src\", linkIframe);\n  });\n  $(\".d_sliderLast__video\").on(\"click\", function (e) {\n    var target = $(e.target);\n    var linkIframe = target.attr(\"data-srcVideo\");\n    var srcLink = $(\".d_modal-video__height\").children().attr(\"src\", linkIframe);\n  });\n  d_popapVideoHub.on(\"click\", function (e) {\n    if (e.target !== $(\".d_modal-video__height\")) {\n      $(\".d_popapVideo\").addClass(\"d-none\");\n      var d_Iframe = $(\".d_modal-video__height\").find(\"iframe\");\n      d_Iframe.attr(\"src\", \"\");\n      $(\"main\").removeClass(\"d_blur\"); // $('main').style.zIndex= '0';\n\n      $(\".d_popapVideo\")[0].style.zIndex = \"0\";\n      $(\"#masthead\").removeClass(\"blurred\");\n      $(\"#colophon\").removeClass(\"blurred\");\n    }\n  });\n  d_btnCloserPopapVideoHub.on(\"click\", function () {\n    $(\".d_popapVideo\").addClass(\"d-none\");\n    var d_Iframe = $(\".d_modal-video__height\").find(\"iframe\");\n    d_Iframe.attr(\"src\", \"\");\n    $(\"main\").removeClass(\"d_blur\"); // $('main').style.zIndex= '0';\n\n    $(\".d_popapVideo\")[0].style.zIndex = \"0\";\n    $(\"#masthead\").removeClass(\"blurred\");\n    $(\"#colophon\").removeClass(\"blurred\");\n  });\n  $(\".d_sliderFirst__video_a\").on(\"click\", function (e) {\n    e.preventDefault();\n    $(\"main\").addClass(\"d_blur\"); // $('main').style.zIndex= '100';\n\n    $(\".d_popapVideo\")[0].style.zIndex = \"200\";\n    var d_Iframe = $(\".d_modal-video__height\").find(\"iframe\");\n    d_Iframe.attr(\"src\", \"\");\n    $(\".d_popapVideo\").removeClass(\"d-none\");\n    $(\"#masthead\").addClass(\"blurred\");\n    $(\"#colophon\").addClass(\"blurred\");\n  });\n  $(\".d_sliderLast__video_a\").on(\"click\", function (e) {\n    e.preventDefault();\n    $(\"main\").addClass(\"d_blur\"); // $('main').style.zIndex= '100';\n\n    $(\".d_popapVideo\")[0].style.zIndex = \"200\";\n    $(\".d_popapVideo\").removeClass(\"d-none\");\n    $(\"#masthead\").addClass(\"blurred\");\n    $(\"#colophon\").addClass(\"blurred\");\n  });\n  popapListCloser.on(\"click\", function (e) {\n    $(\".d_popapListHuman\").addClass(\"d-n\");\n    $(\".d_popapUlHuman\").removeClass(\"active\");\n    $(\".d_popapSliderImg__img\").removeClass(\"active\");\n    var dataIdImg = $(\".d_popapSliderImg__img\");\n    $(\"body\").css(\"overflowY\", \"auto\");\n  });\n  var copyDataImg = null;\n  openPopapListBtnWoman.on(\"click\", function (e) {\n    var target = $(e.target);\n    var link = target.attr(\"href\");\n    var content = $(link);\n    content.addClass(\"active\");\n    $(window).scrollTop(0);\n    $(\"body\").css(\"overflowY\", \"hidden\");\n    $(\".d_popapListHuman\")[0].style.top = \"108px\"; // console.log($(wi));\n\n    $(\".d_popapDivTextH\")[0].innerText = target.attr(\"data-btnText\");\n    $(\".d_popapListHuman\").removeClass(\"d-n\");\n    var listImg = $(\".d_popapSliderImg\").children();\n    listImg.map(function (ind, elem) {\n      var activeElips = $(\".d_human__img_girl__elips\");\n      var activeElip = activeElips.map(function (e, i) {\n        if ($(i).hasClass(\"active\")) {\n          return i;\n        }\n      });\n      var activeUl = $(activeElip).attr(\"href\");\n      var contentUl = $(activeUl);\n\n      if ($(elem).attr(\"data-id\") == contentUl.attr(\"id\")) {\n        $(elem).addClass(\"active\");\n      }\n    }); // $(\".d_popapSliderImg\").slick({\n    //   dots: false,\n    //   arrows: true,\n    //   slidesToShow: 1,\n    //   slidesToScroll: 1,\n    //   prevArrow: $(\".d_popapSliderBtn__prev\"),\n    //   nextArrow: $(\".d_popapSliderBtn__next \")\n    // });\n  });\n  popapListNextbtn.on(\"click\", function (e) {\n    var slider = $(\".d_popapSliderImg\").children();\n    var ulSliderList = $(\".d_popapUlHuman\");\n    var indUl = null;\n    var filteredList = slider.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    var filteredListUl = ulSliderList.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    $(filteredListUl).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i < filteredListUl.length - 1) {\n          indUl = i += 1;\n        } else {\n          indUl = 0;\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    $(filteredListUl[indUl]).addClass(\"active\");\n    var ind = null;\n    $(filteredList).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i < filteredList.length - 1) {\n          ind = i += 1;\n        } else {\n          ind = 0;\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    var dataText = $(filteredList[ind]).attr(\"data-Text\");\n    $(\".d_popapDivTextH\")[0].innerText = dataText;\n    $(filteredList[ind]).addClass(\"active\");\n  });\n  popapListPrevbtn.on(\"click\", function (e) {\n    var slider = $(\".d_popapSliderImg\").children();\n    var ulSliderList = $(\".d_popapUlHuman\");\n    var indUl = null;\n    var filteredListUl = ulSliderList.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    $(filteredListUl).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i > 0 && i <= filteredListUl.length - 1) {\n          indUl = i = i - 1;\n        } else if (i <= 0) {\n          indUl = filteredListUl.length - 1;\n        } else {\n          indUl = 0;\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    $(filteredListUl[indUl]).addClass(\"active\");\n    var ind = null;\n    var filteredList = slider.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\"); // if($(e).attr('data-id') == 'Stomach'){\n      //   console.log();\n      // }\n    });\n    $(filteredList).map(function (i, e) {\n      if ($(e).hasClass(\"active\")) {\n        if (i > 0 && i <= filteredList.length - 1) {\n          ind = i = i - 1;\n        } else if (i <= 0) {\n          ind = filteredList.length - 1;\n        } else {\n          console.log(1);\n        }\n      }\n\n      $(e).removeClass(\"active\");\n    });\n    $(filteredList[ind]).addClass(\"active\");\n    var dataText = $(filteredList[ind]).attr(\"data-Text\");\n    $(\".d_popapDivTextH\")[0].innerText = dataText;\n  });\n  var newDataIdImg = null;\n  openPopapListBtnMan.on(\"click\", function (e) {\n    var target = $(e.target);\n    var link = target.attr(\"href\");\n    var content = $(link);\n    content.addClass(\"active\");\n    $(window).scrollTop(0);\n    $(\"body\").css(\"overflowY\", \"hidden\");\n    $(\".d_popapListHuman\")[0].style.top = \"108px\";\n    $(\".d_popapDivTextH\")[0].innerText = target.attr(\"data-btnText\");\n    var dataIdImg = $(\".d_popapSliderImg__img\");\n    $(\".d_popapListHuman\").removeClass(\"d-n\");\n    var listImg = $(\".d_popapSliderImg\").children();\n    var filteredList = listImg.filter(function (i, e) {\n      return !$(e).hasClass(\"d-n\");\n    });\n    filteredList.map(function (ind, elem) {\n      var activeElips = $(\".d_human__img_man__elips\");\n      var activeElip = activeElips.map(function (e, i) {\n        if ($(i).hasClass(\"active\")) {\n          return i;\n        }\n      });\n      var activeUl = $(activeElip).attr(\"href\");\n      var contentUl = $(activeUl);\n\n      if ($(elem).attr(\"data-id\") == contentUl.attr(\"id\")) {\n        $(elem).addClass(\"active\");\n      }\n    });\n  });\n  /* Tabs */\n\n  d_tabLink.on(\"click\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    var link = target.attr(\"href\");\n    var content = $(link);\n    var active = $(\".d_essentials-tab .active, .d_essentials-content .active \");\n    active.removeClass(\"active\");\n    target.parent().addClass(\"active\");\n    content.addClass(\"active\");\n  });\n  /* Tabs */\n\n  var getImgHuman = function getImgHuman(id) {\n    humanImgHeart.map(function (curValue, index) {\n      index.setAttribute(\"src\", \"\");\n\n      if (id == index.getAttribute(\"data-id\")) {\n        var dataSrc = index.getAttribute(\"data-srcTwo\");\n        index.setAttribute(\"src\", dataSrc);\n      }\n    });\n  };\n\n  var findAttr = function findAttr() {\n    massElipsColor.forEach(function (e) {\n      if (e.classList.contains(\"active\")) {\n        var lol = $(e.getAttribute(\"href\"));\n        lol.addClass(\"active\");\n      }\n    });\n  };\n\n  var findAttrMan = function findAttrMan() {\n    massElipsColorMan.forEach(function (e) {\n      if (e.classList.contains(\"active\")) {\n        var lol = $(e.getAttribute(\"href\"));\n        lol.addClass(\"active\");\n      }\n    });\n  };\n\n  var switchFunc = function switchFunc(id) {\n    switch (id) {\n      case \"0\":\n        arrowHeart[0].style.marginTop = \"-11px\";\n        arrowHeart[0].style.marginLeft = \"-86px\";\n        arrowHeart[0].style.transform = \"rotate(28deg)\";\n        arrowHeart[0].style.height = \"77px\";\n        break;\n\n      case \"1\":\n        arrowHeart[0].style.marginTop = \"48px\";\n        arrowHeart[0].style.marginLeft = \"-61px\";\n        arrowHeart[0].style.transform = \"rotate(1deg)\";\n        arrowHeart[0].style.height = \"96px\";\n        break;\n\n      case \"2\":\n        arrowHeart[0].style.marginTop = \"25px\";\n        arrowHeart[0].style.marginLeft = \"-148px\";\n        arrowHeart[0].style.transform = \"rotate(0deg)\";\n        arrowHeart[0].style.height = \"172px\";\n        break;\n\n      case \"3\":\n        arrowHeart[0].style.marginTop = \"72px\";\n        arrowHeart[0].style.marginLeft = \"-41px\";\n        arrowHeart[0].style.transform = \"rotate(-16deg)\";\n        arrowHeart[0].style.height = \"110px\";\n        break;\n\n      case \"4\":\n        arrowHeart[0].style.marginTop = \"60px\";\n        arrowHeart[0].style.marginLeft = \"-89px\";\n        arrowHeart[0].style.transform = \"rotate(-7deg)\";\n        arrowHeart[0].style.height = \"139px\";\n        break;\n\n      case \"5\":\n        arrowHeart[0].style.marginTop = \"63px\";\n        arrowHeart[0].style.marginLeft = \"-122px\";\n        arrowHeart[0].style.transform = \"rotate(-15deg)\";\n        arrowHeart[0].style.height = \"187px\";\n        break;\n\n      case \"6\":\n        arrowHeart[0].style.marginTop = \"79px\";\n        arrowHeart[0].style.marginLeft = \"-184px\";\n        arrowHeart[0].style.transform = \"rotate(-16deg)\";\n        arrowHeart[0].style.height = \"301px\";\n        break;\n\n      case \"7\":\n        arrowHeart[0].style.marginTop = \"89px\";\n        arrowHeart[0].style.marginLeft = \"-149px\";\n        arrowHeart[0].style.transform = \"rotate(-25deg)\";\n        arrowHeart[0].style.height = \"285px\";\n    }\n  };\n\n  var switchFuncMan = function switchFuncMan(id) {\n    switch (id) {\n      case \"0\":\n        arrowHeartMan[0].style.marginTop = \"-2px\";\n        arrowHeartMan[0].style.marginLeft = \"-79px\";\n        arrowHeartMan[0].style.transform = \"rotate(37deg)\";\n        arrowHeartMan[0].style.height = \"70px\";\n        break;\n\n      case \"1\":\n        arrowHeartMan[0].style.marginTop = \"52px\";\n        arrowHeartMan[0].style.marginLeft = \"-82px\";\n        arrowHeartMan[0].style.transform = \"rotate(-4deg)\";\n        arrowHeartMan[0].style.height = \"117px\";\n        break;\n\n      case \"2\":\n        arrowHeartMan[0].style.marginTop = \"42px\";\n        arrowHeartMan[0].style.marginLeft = \"-147px\";\n        arrowHeartMan[0].style.transform = \"rotate(5deg)\";\n        arrowHeartMan[0].style.height = \"176px\";\n        break;\n\n      case \"3\":\n        arrowHeartMan[0].style.marginTop = \"72px\";\n        arrowHeartMan[0].style.marginLeft = \"-41px\";\n        arrowHeartMan[0].style.transform = \"rotate(-9deg)\";\n        arrowHeartMan[0].style.height = \"126px\";\n        break;\n\n      case \"4\":\n        arrowHeartMan[0].style.marginTop = \"60px\";\n        arrowHeartMan[0].style.marginLeft = \"-114px\";\n        arrowHeartMan[0].style.transform = \"rotate(-11deg)\";\n        arrowHeartMan[0].style.height = \"171px\";\n        break;\n\n      case \"5\":\n        arrowHeartMan[0].style.marginTop = \"79px\";\n        arrowHeartMan[0].style.marginLeft = \"-184px\";\n        arrowHeartMan[0].style.transform = \"rotate(-18deg)\";\n        arrowHeartMan[0].style.height = \"287px\";\n        break;\n\n      case \"6\":\n        arrowHeartMan[0].style.marginTop = \"89px\";\n        arrowHeartMan[0].style.marginLeft = \"-149px\";\n        arrowHeartMan[0].style.transform = \"rotate(-27deg)\";\n        arrowHeartMan[0].style.height = \"277px\";\n    }\n  }; // ELIPS COLOR AND WIDTH\n\n\n  var massElipsColor = [];\n  var massElipsColorMan = [];\n  elipsYellow.map(function (e, target) {\n    massElipsColor.push(target);\n  });\n  elipsYellowMan.map(function (e, target) {\n    massElipsColorMan.push(target);\n  });\n  $(\".d_human__list__h\")[0].innerText = $(massElipsColor)[1].getAttribute(\"data-Text\"); // mouseover MOUSEOVER\n\n  var dMobailDotsWoman = $(slidersGirl).find(\".slick-dots\").children();\n  elipsYellow.on(\"mouseover\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    arrowHeartMan[0].style.opacity = \"0\";\n    arrowHeart[0].style.opacity = \"1\";\n    $(\".d_human__list__h\")[0].innerText = target[0].getAttribute(\"data-Text\");\n    ulActive.map(function (index, ul) {\n      ul.classList.remove(\"active\");\n    });\n    getImgHuman(e.target.getAttribute(\"data-id\"));\n    elipsYellow.map(function (e, target) {\n      target.classList.remove(\"active\");\n    });\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockGirl\") {\n      switchFunc(e.target.getAttribute(\"data-id\"));\n    }\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockMan\") {\n      switchFuncMan(e.target.getAttribute(\"data-id\"));\n    }\n\n    target.addClass(\"active\");\n    findAttr();\n    var attrYellowCircle = e.target.getAttribute(\"data-id\");\n    var dMobailDotsWomanBtn = $(dMobailDotsWoman[attrYellowCircle]).children(); // console.log(dMobailDotsWomanBtn);\n\n    if (document.documentElement.clientWidth <= 577) {\n      dMobailDotsWomanBtn.click();\n    }\n  });\n  elipsYellowMan.on(\"mouseover\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    arrowHeartMan[0].style.opacity = \"1\";\n    arrowHeart[0].style.opacity = \"0\";\n    $(\".d_human__list__h\")[0].innerText = target[0].getAttribute(\"data-Text\");\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    getImgHuman(e.target.getAttribute(\"data-id\"));\n    Array.prototype.forEach.call(elipsYellowMan, function (target) {\n      target.classList.remove(\"active\");\n    });\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockGirl\") {\n      switchFunc(e.target.getAttribute(\"data-id\"));\n    }\n\n    if (e.target.parentElement.getAttribute(\"id\") == \"blockMan\") {\n      switchFuncMan(e.target.getAttribute(\"data-id\"));\n    }\n\n    target.addClass(\"active\");\n    findAttrMan();\n    var attrYellowCircle = e.target.getAttribute(\"data-id\");\n    var dMobailDotsManBtn = $(dMobailDotsMan[attrYellowCircle]).children();\n\n    if (document.documentElement.clientWidth <= 577) {\n      dMobailDotsManBtn.click();\n    }\n  });\n  elipsYellow.on(\"click\", function (e) {\n    e.preventDefault();\n  });\n  elipsYellowMan.on(\"click\", function (e) {\n    e.preventDefault();\n  }); // btnGirlNext COLOR AND WIDTH\n\n  btnGirlNext.on(\"click\", function (e) {\n    e.preventDefault();\n    arrowHeart[0].style.opacity = \"1\";\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    var value = null;\n    massElipsColor.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) + 1);\n    massElipsColor.forEach(function (curValue, index, array) {\n      curValue.classList.remove(\"active\"); //\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n\n      if (dataId >= array.length) {\n        massElipsColor[0].classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = massElipsColor[0].getAttribute(\"data-Text\");\n      }\n    });\n    var datId = String(Number(value.getAttribute(\"data-id\")) + 1) >= massElipsColor.length ? \"0\" : String(Number(value.getAttribute(\"data-id\")) + 1);\n    switchFunc(datId);\n    getImgHuman(datId);\n    findAttr();\n  });\n  btnManNext.on(\"click\", function (e) {\n    e.preventDefault();\n    arrowHeartMan[0].style.opacity = \"1\";\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    var value = null;\n    massElipsColorMan.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) + 1);\n    massElipsColorMan.forEach(function (curValue, index, array) {\n      curValue.classList.remove(\"active\");\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n\n      if (dataId >= array.length) {\n        massElipsColorMan[0].classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = massElipsColorMan[0].getAttribute(\"data-Text\");\n      }\n    });\n    var datId = String(Number(value.getAttribute(\"data-id\")) + 1) >= massElipsColorMan.length ? \"0\" : String(Number(value.getAttribute(\"data-id\")) + 1);\n    switchFuncMan(datId);\n    getImgHuman(datId);\n    findAttrMan();\n  });\n  btnGirlPrev.on(\"click\", function (e) {\n    e.preventDefault();\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    arrowHeartMan[0].style.opacity = \"1\";\n    arrowHeart[0].style.opacity = \"1\";\n    var value = null;\n    massElipsColor.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) - 1) < 0 ? String(massElipsColor.length - 1) : String(Number(value.getAttribute(\"data-id\")) - 1);\n    massElipsColor.forEach(function (curValue, index) {\n      curValue.classList.remove(\"active\");\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n    });\n    switchFunc(dataId);\n    getImgHuman(dataId);\n    findAttr();\n  });\n  btnManPrev.on(\"click\", function (e) {\n    e.preventDefault();\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    arrowHeartMan[0].style.opacity = \"1\";\n    arrowHeart[0].style.opacity = \"1\";\n    var value = null;\n    massElipsColorMan.forEach(function (curValue, index) {\n      if (curValue.classList.contains(\"active\")) {\n        value = curValue;\n      }\n    });\n    var dataId = String(Number(value.getAttribute(\"data-id\")) - 1) < 0 ? String(massElipsColorMan.length - 1) : String(Number(value.getAttribute(\"data-id\")) - 1);\n    massElipsColorMan.forEach(function (curValue, index) {\n      curValue.classList.remove(\"active\");\n\n      if (index == dataId) {\n        curValue.classList.add(\"active\");\n        $(\".d_human__list__h\")[0].innerText = $(curValue)[0].getAttribute(\"data-Text\");\n      }\n    });\n    switchFuncMan(dataId);\n    getImgHuman(dataId);\n    findAttrMan();\n  }); // btnGirlNext COLOR AND WIDTH\n  // linkSwitchBlockHuman\n\n  var dMobailDotsMan = null;\n  linkSwitchBlockHuman.on(\"click\", function (e) {\n    e.preventDefault();\n    var target = $(e.target);\n    var link = target.parent().attr(\"href\");\n    var content = $(link);\n    var activeImg = $(\".d_human__img\");\n    var activeImgChildren = activeImg.children();\n    Array.prototype.forEach.call(activeImgChildren, function (e, n) {\n      e.classList.remove(\"active\");\n    });\n    Array.prototype.forEach.call(ulActive, function (ul) {\n      ul.classList.remove(\"active\");\n    });\n    var parentImg = target.parent().parent();\n    var clasParent = parentImg.attr(\"class\");\n    var octive = $(\".\".concat(clasParent, \" .active\"));\n    octive.removeClass(\"active\");\n    target.addClass(\"active\");\n    activeImg.removeClass(\"active\");\n    var children = content.children();\n    Array.prototype.forEach.call($(children), function (e, n) {\n      if (e.parentNode.getAttribute(\"id\") == \"blockGirl\") {\n        if ($(window).width() >= 768) {\n          clearInterval(interval);\n          interval = setInterval(function (e) {\n            btnGirlNextInterval();\n          }, 5000);\n        }\n\n        findAttr();\n        var activeElips = document.querySelector(\".d_human__img_girl__elips.active\");\n        getImgHuman($(activeElips)[0].getAttribute(\"data-id\"));\n        $(\".d_human__list__h\")[0].innerText = $(activeElips)[0].getAttribute(\"data-Text\");\n        arrowHeartMan[0].style.opacity = \"0\";\n        arrowHeart[0].style.opacity = \"1\";\n        var dnblockUl = $(\".d_popapUlHuman\");\n        $(dnblockUl[4]).removeClass(\"d-n\");\n        var dnblockImg = $(\".d_popapSliderImg__img\");\n        $(dnblockImg[4]).removeClass(\"d-n\");\n      }\n\n      if (e.parentNode.getAttribute(\"id\") == \"blockMan\") {\n        findAttrMan();\n        var activeElipsTwo = document.querySelector(\".d_human__img_man__elips.active\");\n\n        if ($(window).width() >= 768) {\n          clearInterval(interval);\n          interval = setInterval(function (e) {\n            btnManNextInterval();\n          }, 5000);\n        }\n\n        getImgHuman($(activeElipsTwo)[0].getAttribute(\"data-id\"));\n        $(\".d_human__list__h\")[0].innerText = $(activeElipsTwo)[0].getAttribute(\"data-Text\");\n        arrowHeart[0].style.opacity = \"0\";\n        arrowHeartMan[0].style.opacity = \"1\";\n\n        var _dnblockUl = $(\".d_popapUlHuman\");\n\n        $(_dnblockUl[4]).addClass(\"d-n\");\n\n        var _dnblockImg = $(\".d_popapSliderImg__img\");\n\n        $(_dnblockImg[4]).addClass(\"d-n\");\n      }\n    });\n    content.addClass(\"active\");\n\n    if (content[0].getAttribute(\"id\") == \"blockGirl\") {\n      findAttr();\n      girlBtns[0].classList.add(\"active\");\n      manBtns[0].classList.remove(\"active\");\n      $(slidersGirl).addClass(\"active\");\n      $(slidersMan).removeClass(\"active\");\n\n      if ($(window).width() <= 520) {\n        $(\".d_human__slidersMan\").slick(\"unslick\");\n        $(\".d_human__slidersGirl\").slick({\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          dots: true,\n          autoplay: true,\n          speed: 100,\n          autoplaySpeed: 5000,\n          arrows: false\n        });\n      }\n\n      dMobailDotsWoman = $(\".d_human__slidersGirl\").find(\".slick-dots\").children();\n    } else {\n      manBtns[0].classList.add(\"active\");\n      girlBtns[0].classList.remove(\"active\");\n      $(slidersMan).addClass(\"active\");\n      $(slidersGirl).removeClass(\"active\");\n\n      if (document.documentElement.clientWidth <= 577) {\n        $(\".d_human__slidersMan\").slick({\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          dots: true,\n          autoplay: true,\n          autoplaySpeed: 5000,\n          arrows: false\n        });\n        $(\".d_human__slidersGirl\").slick(\"unslick\");\n        var clickBtnSliderManPreventDefault = slidersMan.find(\"li\").children();\n        setTimeout(function () {\n          clickBtnSliderManPreventDefault[1].click();\n        }, 100); // clickBtnSliderManPreventDefault[1].addEventListener(\"hello\", function(event) {\n        //   // $(clickBtnSliderManPreventDefault[1]).click();\n        //   clickBtnSliderManPreventDefault[1].click()\n        //   return\n        // });\n        // clickBtnSliderManPreventDefault[1].dispatchEvent(new CustomEvent(\"hello\", {\n        // }));\n        // clickBtnSliderManPreventDefault[1].click(clickBtnSliderManPreventDefault[1].click())\n\n        clickBtnSliderManPreventDefault.on(\"click\", function (event) {\n          event.preventDefault();\n          event.target.disabled = true;\n        });\n      }\n\n      dMobailDotsMan = $(slidersMan).find(\".slick-dots\").children();\n    }\n  }); // linkSwitchBlockHuman\n\n  $(\".d_human__slidersGirl\").on(\"afterChange\", function (event, slick, currentSlide, nextSlide) {\n    massElipsColor.forEach(function (e) {\n      e.classList.remove(\"active\");\n    });\n    massElipsColor[currentSlide].classList.add(\"active\");\n  });\n  $(\".d_human__slidersMan\").on(\"afterChange\", function (event, slick, currentSlide, nextSlide) {\n    massElipsColorMan.forEach(function (e) {\n      e.classList.remove(\"active\");\n    });\n    massElipsColorMan[currentSlide].classList.add(\"active\");\n  });\n  var orangStroke = document.querySelector(\"#EllipseOrangStroke\");\n  var btnBackToTop = document.querySelector(\".d_backToTop\"); // let funcBackToTop = function() {\n  //   if (scrollTop >= 200) {\n  //     btnBackToTop.classList.remove(\"d-n\");\n  //     targetTop = scrollTop + $(window).height();\n  //   } else {\n  //     btnBackToTop.classList.add(\"d-n\");\n  //     targetTop = scrollTop;\n  //   }\n  //   let BodyHeight = $(\"body\").height();\n  //   let resultProcentBody = (targetTop * 100) / BodyHeight + 100;\n  //   let resultStokeOrange = (resultProcentBody * -251) / 100;\n  //   orangStroke.style.strokeDashoffset = resultStokeOrange;\n  // };\n\n  $(btnBackToTop).on(\"click\", function (e) {\n    var target = $(e.target);\n    $(\"html, body\").animate({\n      scrollTop: $(\"html, body\").offset().top\n    }, 1000);\n  });\n\n  var trottled = function trottled(func) {\n    var isTrottle = false;\n    return function () {\n      if (isTrottle) return;else {\n        var ctx = this;\n        var args = arguments;\n        func.apply(ctx, args);\n        isTrottle = true;\n        setInterval(function () {\n          isTrottle = false;\n        }, 100);\n      }\n    };\n  }; // let timer;\n  // document.addEventListener(\n  //   \"scroll\",\n  //   trottled(e => {\n  //     let target = $(e.target);\n  //     let targetTop = null;\n  //     let scrollTop = $(document).scrollTop();\n  //     if (timer) {\n  //       clearTimeout(timer);\n  //     }\n  //     timer = setTimeout(function() {\n  //       btnBackToTop.classList.add(\"d-n\");\n  //     }, 1000);\n  //     if (scrollTop >= 200) {\n  //       btnBackToTop.classList.remove(\"d-n\");\n  //       targetTop = scrollTop + $(window).height();\n  //     } else {\n  //       btnBackToTop.classList.add(\"d-n\");\n  //       targetTop = scrollTop;\n  //     }\n  //     let BodyHeight = $(document).height();\n  //     let resultProcentBody = (targetTop * 100) / BodyHeight + 100;\n  //     let resultStokeOrange = (resultProcentBody * -251) / 100;\n  //     orangStroke.style.strokeDashoffset = resultStokeOrange;\n  //     if ($(document).scrollTop() == ($(document).height() - $(window).height()) ||\n  //     $(document).scrollTop() > ($(document).height() - $(window).height())\n  //     ) {\n  //       btnBackToTop.classList.remove(\"d-n\");\n  //       clearTimeout(timer);\n  //     }\n  //   })\n  // );\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2luZGV4LmpzPzQxZjUiXSwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpIHtcclxuICAkKHdpbmRvdykuc2Nyb2xsVG9wKDApO1xyXG4gIC8vIFNMSURFUlNcclxuICAkKFwiLmRfc2xpZGVCbG9ja1wiKS5zbGljayh7XHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgYXJyb3dzOiBmYWxzZSxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgYXV0b3BsYXlTcGVlZDogNjAwMFxyXG4gIH0pO1xyXG4gIC8vSU5JVCDRgdC70LDQudC00LXRgNCwXHJcbiAgJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKS5vbihcImluaXRcIiwgZnVuY3Rpb24oZXZlbnQsIHNsaWNrKSB7XHJcbiAgICAkKGV2ZW50LnRhcmdldClcclxuICAgICAgLmZpbmQoXCJsaVwiKVsxXVxyXG4gICAgICAuY2xpY2soKTtcclxuICB9KTtcclxuICAkKFwiLmRfaHVtYW5fX3NsaWRlcnNNYW5cIikub24oXCJpbml0XCIsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaykge1xyXG4gICAgJChldmVudC50YXJnZXQpXHJcbiAgICAgIC5maW5kKFwibGlcIilbMV1cclxuICAgICAgLmNsaWNrKCk7XHJcbiAgfSk7XHJcbiAgLy9JTklUINGB0LvQsNC50LTQtdGA0LBcclxuXHJcbiAgJChcIi5kX3NsaWRlV3JhcFwiKS5zbGljayh7XHJcbiAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIGFycm93czogdHJ1ZSxcclxuICAgIHNwZWVkOiAzMDAwLFxyXG4gICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICBhdXRvcGxheVNwZWVkOiA2MDAwLFxyXG4gICAgYXNOYXZGb3I6IFwiLmRfc2xpZGVXcmFwTGFzdFwiLFxyXG4gICAgcHJldkFycm93OiAkKFwiLmRfc2xpZGVGaXJzdF9fcHJldlwiKSxcclxuICAgIG5leHRBcnJvdzogJChcIi5kX3NsaWRlRmlyc3RfX25leHRcIiksXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogODAwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgIGRvdHM6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSk7XHJcbiAgJChcIi5kX3NsaWRlV3JhcExhc3RcIikuc2xpY2soe1xyXG4gICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcblxyXG4gICAgYXNOYXZGb3I6IFwiLmRfc2xpZGVXcmFwXCIsXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgc3BlZWQ6IDMwMDAsXHJcblxyXG4gICAgY2VudGVyTW9kZTogZmFsc2UsXHJcbiAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxyXG4gICAgZm9jdXNPblNlbGVjdDogZmFsc2UsXHJcbiAgICBwcmV2QXJyb3c6ICQoXCIuZF9zbGlkZUxhc3RfX3ByZXZcIiksXHJcbiAgICBuZXh0QXJyb3c6ICQoXCIuZF9zbGlkZUxhc3RfX25leHRcIiksXHJcbiAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA4MDAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSk7XHJcbiAgJChcIi5kX2VkdWNhdGlvbkNlbnRlcl9fc2xpZGVyXCIpLnNsaWNrKHtcclxuICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgcHJldkFycm93OiAkKFwiLmRfZWR1Y2F0aW9uQ2VudGVyX19zbGlkZXJfcHJldlwiKSxcclxuICAgIG5leHRBcnJvdzogJChcIi5kX2VkdWNhdGlvbkNlbnRlcl9fc2xpZGVyX25leHRcIiksXHJcbiAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA3NzAsXHJcbiAgICAgICAgc2V0dGluZ3M6IFwidW5zbGlja1wiXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9KTtcclxuICAkKFwiLmRfZXhwZXJ0c19fc2xpZGVyc1wiKS5zbGljayh7XHJcbiAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIGFycm93czogdHJ1ZSxcclxuICAgIGRvdHM6IHRydWUsXHJcbiAgICBwcmV2QXJyb3c6ICQoXCIuZF9leHBlcnRzX19wcmV2XCIpLFxyXG4gICAgbmV4dEFycm93OiAkKFwiLmRfZXhwZXJ0c19fbmV4dFwiKSxcclxuICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDc2OSxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSk7XHJcblxyXG4gIC8vIFNMSURFUlNcclxuICAvL0dMT0JBTCBXSU5ET1cgU0NST0xMIFRPUCAwXHJcblxyXG4gIC8vR0xPQkFMIFdJTkRPVyBTQ1JPTEwgVE9QIDBcclxuXHJcbiAgLyogVGFicyAqL1xyXG4gIGxldCBkX3RhYkxpbmsgPSAkKFwiLmRfZXNzZW50aWFsc19fdGFiTGlua1wiKTtcclxuICAvKiBUYWJzICovXHJcbiAgbGV0IGFycm93SGVhcnQgPSAkKFwiLmRfaHVtYW5fX2ltZ19naXJsX19hcnJvd0hlYXJ0XCIpO1xyXG4gIGxldCBhcnJvd0hlYXJ0TWFuID0gJChcIi5kX2h1bWFuX19pbWdfZ2lybF9fYXJyb3dIZWFydF9tYW5cIik7XHJcbiAgbGV0IGh1bWFuSW1nSGVhcnQgPSAkKFwiLmRfaHVtYW5fX2ltZ19naXJsX19oZWFydFwiKTtcclxuICBsZXQgYWN0aXZlQ2xhc3NIdW1hbiA9ICQoXCIuZF9odW1hbl9faW1nX2dpcmxcIik7XHJcbiAgbGV0IGJ0bkdpcmxOZXh0ID0gJChcIi5kX2h1bWFuX19saXN0X2dpcmxfX25leHRcIik7XHJcbiAgbGV0IGJ0bkdpcmxQcmV2ID0gJChcIi5kX2h1bWFuX19saXN0X2dpcmxfX3ByZXZcIik7XHJcbiAgbGV0IGJ0bk1hbk5leHQgPSAkKFwiLmRfaHVtYW5fX2xpc3RfbWFuX19uZXh0XCIpO1xyXG4gIGxldCBidG5NYW5QcmV2ID0gJChcIi5kX2h1bWFuX19saXN0X21hbl9fcHJldlwiKTtcclxuICBsZXQgdWxBY3RpdmUgPSAkKFwiLmRfaHVtYW5fX2xpc3RfdWxcIik7XHJcbiAgbGV0IGVsaXBzWWVsbG93ID0gJChcIi5kX2h1bWFuX19pbWdfZ2lybF9fZWxpcHNcIik7XHJcbiAgbGV0IGVsaXBzWWVsbG93TWFuID0gJChcIi5kX2h1bWFuX19pbWdfbWFuX19lbGlwc1wiKTtcclxuICBsZXQgbGlua1N3aXRjaEJsb2NrSHVtYW4gPSAkKFwiLmRfaHVtYW5fX2ltZ19jaGFuZ2VHZW5kZXJfX2ltZ1wiKTtcclxuICBsZXQgZ2lybEJ0bnMgPSAkKFwiLmRfaHVtYW5fX2xpc3RfZ2lybF9fYnRuc1wiKTtcclxuICBsZXQgbWFuQnRucyA9ICQoXCIuZF9odW1hbl9fbGlzdF9tYW5fX2J0bnNcIik7XHJcbiAgbGV0IHNsaWRlcnNHaXJsID0gJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKTtcclxuICBsZXQgc2xpZGVyc01hbiA9ICQoXCIuZF9odW1hbl9fc2xpZGVyc01hblwiKTtcclxuICBsZXQgb3BlblBvcGFwTGlzdEJ0bk1hbiA9ICQoXCIuZF9odW1hbl9fc2xpZGVyTWFuX2J0blwiKTtcclxuICBsZXQgb3BlblBvcGFwTGlzdEJ0bldvbWFuID0gJChcIi5kX2h1bWFuX19zbGlkZXJHaXJsX2J0blwiKTtcclxuICBsZXQgcG9wYXBMaXN0Q2xvc2VyID0gJChcIi5kX3BvcGFwTGlzdEh1bWFuX19jbG9zZXJCdG5cIik7XHJcbiAgbGV0IHBvcGFwTGlzdFByZXZidG4gPSAkKFwiLmRfcG9wYXBTbGlkZXJCdG5fX3ByZXZcIik7XHJcbiAgbGV0IHBvcGFwTGlzdE5leHRidG4gPSAkKFwiLmRfcG9wYXBTbGlkZXJCdG5fX25leHRcIik7XHJcbiAgbGV0IGRfcG9wYXBWaWRlb0h1YiA9ICQoXCIuZF9wb3BhcFZpZGVvXCIpO1xyXG4gIGxldCBkX2J0bkNsb3NlclBvcGFwVmlkZW9IdWIgPSAkKFwiLmRfcG9wYXBWaWRlb19fY2xvc2VyXCIpO1xyXG4gIGxldCBhdXRvQ2xpY2tTbGlkZXJNb2JhaWwgPSAkKFwiLmRfaHVtYW5fX2ltZ19naXJsX19lbGlwc0hlYXJ0XCIpO1xyXG4gIC8vU1VCU1RSVEVYVFxyXG4gIGNvbnN0IGV4cGVydHNDb21tZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5kX2V4cGVydHNfX3NsaWRlckV4cGVydF9wXCJcclxuICApO1xyXG4gIGNvbnN0IGV4cGVydHNOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kX2V4cGVydHNfX3NsaWRlckV4cGVydF9oXCIpO1xyXG4gIGNvbnN0IGh1bWFuTGlzdE5hbWVBID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kX25ld3NfX2hcIik7XHJcbiAgY29uc3QgbWFpblNsaWRlVGV4dEggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRfc2xpZGVfX3RleHRfaFwiKTtcclxuICBjb25zdCBtYWluTmV3c0JpZ0NhcmRIID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kX21vcmVOZXdzX19iaWdDYXJkX2hcIik7XHJcbiAgY29uc3QgbWFpbk5ld3NMZWZ0Q2FyZEggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRfbW9yZU5ld3NfX2NhcmRfaFwiKTtcclxuICBjb25zdCBtYWluTmV3c1NtYWxsQ2FyZEggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuZF9tb3JlTmV3c19fc21hbGxDYXJkX2hcIlxyXG4gICk7XHJcbiAgY29uc3QgbWFpbmxlZnRMYXN0bmV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZF9wYWRkaW5nUmlnaHRcIik7XHJcbiAgY29uc3Qgc21hbGxDYXJkTW9yZU5ld3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuZF9tb3JlTmV3c19fc21hbGxDYXJkX3BcIlxyXG4gICk7XHJcbiAgY29uc3QgZF9zbGlkZXJGaXJzdFRleHRIID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgIFwiLmRfc2xpZGVyRmlyc3RfX3RleHRfaFwiXHJcbiAgKTtcclxuICBjb25zdCBkX3NsaWRlckxhc3RWaWRlb0ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgXCIuZF9zbGlkZXJMYXN0X192aWRlb19oQVwiXHJcbiAgKTtcclxuICAvLyBjb25zdCBkX21haW5QYWdlTmV3c0ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZF9uZXdzX19oJyk7XHJcbiAgLy8gY29uc29sZS5sb2coc21hbGxDYXJkTW9yZU5ld3MpO1xyXG5cclxuICBjb25zdCBlbmRDaGFyYWN0ZXIgPSBcIi4uLlwiO1xyXG4gIGxldCBzdWJzdHJGdW5jdGlvbiA9IChlbGVtZW50LCBzaXplKSA9PiB7XHJcbiAgICBlbGVtZW50LmZvckVhY2goZWwgPT4ge1xyXG4gICAgICBsZXQgdGV4dCA9IGVsLmlubmVySFRNTDtcclxuXHJcbiAgICAgIGlmIChlbC5pbm5lckhUTUwubGVuZ3RoID4gc2l6ZSkge1xyXG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cigwLCBzaXplKTtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSB0ZXh0ICsgZW5kQ2hhcmFjdGVyO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBzdWJzdHJGdW5jdGlvbihleHBlcnRzQ29tbWVudHMsIDEwMCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24oZXhwZXJ0c05hbWUsIDIyKTtcclxuICBzdWJzdHJGdW5jdGlvbihodW1hbkxpc3ROYW1lQSwgMzcpO1xyXG4gIHN1YnN0ckZ1bmN0aW9uKG1haW5TbGlkZVRleHRILCA2MCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24obWFpbk5ld3NCaWdDYXJkSCwgNjcpO1xyXG4gIHN1YnN0ckZ1bmN0aW9uKG1haW5OZXdzTGVmdENhcmRILCA0MCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24obWFpbk5ld3NTbWFsbENhcmRILCA0NSk7XHJcbiAgc3Vic3RyRnVuY3Rpb24obWFpbmxlZnRMYXN0bmV3cywgNTApO1xyXG4gIC8vIHN1YnN0ckZ1bmN0aW9uKHNtYWxsQ2FyZE1vcmVOZXdzLCA0Mik7XHJcbiAgc3Vic3RyRnVuY3Rpb24oZF9zbGlkZXJGaXJzdFRleHRILCA2MCk7XHJcbiAgc3Vic3RyRnVuY3Rpb24oZF9zbGlkZXJMYXN0VmlkZW9ILCA2MCk7XHJcblxyXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA1MjApIHtcclxuICAgICQoXCIuZF9odW1hbl9fc2xpZGVyc0dpcmxcIikuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXlTcGVlZDogNTAwMCxcclxuICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICBhdXRvQ2xpY2tTbGlkZXJNb2JhaWxbMF0uY2xpY2soKTtcclxuICB9XHJcblxyXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSAzNzUpIHtcclxuICAgIHN1YnN0ckZ1bmN0aW9uKGV4cGVydHNDb21tZW50cywgNDApO1xyXG4gICAgc3Vic3RyRnVuY3Rpb24oaHVtYW5MaXN0TmFtZUEsIDMzKTtcclxuICB9XHJcbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IDQ1OCkge1xyXG4gICAgc3Vic3RyRnVuY3Rpb24oaHVtYW5MaXN0TmFtZUEsIDMzKTtcclxuICB9XHJcbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IDQyMCkge1xyXG4gICAgc3Vic3RyRnVuY3Rpb24oZXhwZXJ0c0NvbW1lbnRzLCA1MCk7XHJcbiAgICBzdWJzdHJGdW5jdGlvbihodW1hbkxpc3ROYW1lQSwgMzMpO1xyXG4gIH1cclxuXHJcbiAgLy8gc3Vic3RyRnVuY3Rpb24oc21hbGxDYXJkTW9yZU5ld3MsIDIwKTtcclxuXHJcbiAgLy9TVUJTVFJURVhUXHJcbiAgbGV0IGludGVydmFsID0gbnVsbDtcclxuXHJcbiAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDc2OCkge1xyXG4gICAgaWYgKCQoYWN0aXZlQ2xhc3NIdW1hblswXSkuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcblxyXG4gICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGUgPT4ge1xyXG4gICAgICAgIGJ0bkdpcmxOZXh0SW50ZXJ2YWwoKTtcclxuICAgICAgfSwgNTAwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGJ0bkdpcmxOZXh0SW50ZXJ2YWwoKSB7XHJcbiAgICBidG5HaXJsTmV4dC5jbGljaygpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBidG5NYW5OZXh0SW50ZXJ2YWwoKSB7XHJcbiAgICBidG5NYW5OZXh0LmNsaWNrKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoJCh3aW5kb3cpLmhlaWdodCgpIDw9IDY2Nykge1xyXG4gICAgZF9idG5DbG9zZXJQb3BhcFZpZGVvSHViWzBdLnN0eWxlLnRvcCA9IFwiMTQ5cHhcIjtcclxuICAgIGxldCBjbGlja0J0blNsaWRlckdpcmxQcmV2ZW50RGVmYXVsdCA9IHNsaWRlcnNHaXJsLmZpbmQoXCJsaVwiKS5jaGlsZHJlbigpO1xyXG4gICAgY2xpY2tCdG5TbGlkZXJHaXJsUHJldmVudERlZmF1bHQub24oXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnRhcmdldC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmICgkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikubGVuZ3RoKSB7XHJcbiAgICAkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZSA9PiB7XHJcbiAgICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgbGV0IHNjcm9sbGVkUGl4ZWxzID0gdGFyZ2V0LnNjcm9sbFRvcCgpO1xyXG4gICAgICBpZiAoc2Nyb2xsZWRQaXhlbHMgPj0gMTA4KSB7XHJcbiAgICAgICAgJChcIi5kX3BvcGFwTGlzdEh1bWFuXCIpWzBdLnN0eWxlLnRvcCA9IFwiNDRweFwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuZF9wb3BhcExpc3RIdW1hblwiKVswXS5zdHlsZS50b3AgPSBcIjEwOXB4XCI7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgJChcIi5kX3NsaWRlRmlyc3RcIikub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuXHJcbiAgICBsZXQgbGlua0lmcmFtZSA9IHRhcmdldC5hdHRyKFwiZGF0YS1zcmNWaWRlb1wiKTtcclxuICAgIGxldCBzcmNMaW5rID0gJChcIi5kX21vZGFsLXZpZGVvX19oZWlnaHRcIilcclxuICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgLmF0dHIoXCJzcmNcIiwgbGlua0lmcmFtZSk7XHJcbiAgfSk7XHJcbiAgJChcIi5kX3NsaWRlckxhc3RfX3ZpZGVvXCIpLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgbGV0IGxpbmtJZnJhbWUgPSB0YXJnZXQuYXR0cihcImRhdGEtc3JjVmlkZW9cIik7XHJcbiAgICBsZXQgc3JjTGluayA9ICQoXCIuZF9tb2RhbC12aWRlb19faGVpZ2h0XCIpXHJcbiAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgIC5hdHRyKFwic3JjXCIsIGxpbmtJZnJhbWUpO1xyXG4gIH0pO1xyXG5cclxuICBkX3BvcGFwVmlkZW9IdWIub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGlmIChlLnRhcmdldCAhPT0gJChcIi5kX21vZGFsLXZpZGVvX19oZWlnaHRcIikpIHtcclxuICAgICAgJChcIi5kX3BvcGFwVmlkZW9cIikuYWRkQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgICAgIGxldCBkX0lmcmFtZSA9ICQoXCIuZF9tb2RhbC12aWRlb19faGVpZ2h0XCIpLmZpbmQoXCJpZnJhbWVcIik7XHJcbiAgICAgIGRfSWZyYW1lLmF0dHIoXCJzcmNcIiwgXCJcIik7XHJcbiAgICAgICQoXCJtYWluXCIpLnJlbW92ZUNsYXNzKFwiZF9ibHVyXCIpO1xyXG4gICAgICAvLyAkKCdtYWluJykuc3R5bGUuekluZGV4PSAnMCc7XHJcbiAgICAgICQoXCIuZF9wb3BhcFZpZGVvXCIpWzBdLnN0eWxlLnpJbmRleCA9IFwiMFwiO1xyXG4gICAgICAkKFwiI21hc3RoZWFkXCIpLnJlbW92ZUNsYXNzKFwiYmx1cnJlZFwiKTtcclxuICAgICAgJChcIiNjb2xvcGhvblwiKS5yZW1vdmVDbGFzcyhcImJsdXJyZWRcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGRfYnRuQ2xvc2VyUG9wYXBWaWRlb0h1Yi5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICQoXCIuZF9wb3BhcFZpZGVvXCIpLmFkZENsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgbGV0IGRfSWZyYW1lID0gJChcIi5kX21vZGFsLXZpZGVvX19oZWlnaHRcIikuZmluZChcImlmcmFtZVwiKTtcclxuICAgIGRfSWZyYW1lLmF0dHIoXCJzcmNcIiwgXCJcIik7XHJcblxyXG4gICAgJChcIm1haW5cIikucmVtb3ZlQ2xhc3MoXCJkX2JsdXJcIik7XHJcbiAgICAvLyAkKCdtYWluJykuc3R5bGUuekluZGV4PSAnMCc7XHJcbiAgICAkKFwiLmRfcG9wYXBWaWRlb1wiKVswXS5zdHlsZS56SW5kZXggPSBcIjBcIjtcclxuICAgICQoXCIjbWFzdGhlYWRcIikucmVtb3ZlQ2xhc3MoXCJibHVycmVkXCIpO1xyXG4gICAgJChcIiNjb2xvcGhvblwiKS5yZW1vdmVDbGFzcyhcImJsdXJyZWRcIik7XHJcbiAgfSk7XHJcbiAgJChcIi5kX3NsaWRlckZpcnN0X192aWRlb19hXCIpLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwibWFpblwiKS5hZGRDbGFzcyhcImRfYmx1clwiKTtcclxuICAgIC8vICQoJ21haW4nKS5zdHlsZS56SW5kZXg9ICcxMDAnO1xyXG4gICAgJChcIi5kX3BvcGFwVmlkZW9cIilbMF0uc3R5bGUuekluZGV4ID0gXCIyMDBcIjtcclxuICAgIGxldCBkX0lmcmFtZSA9ICQoXCIuZF9tb2RhbC12aWRlb19faGVpZ2h0XCIpLmZpbmQoXCJpZnJhbWVcIik7XHJcbiAgICBkX0lmcmFtZS5hdHRyKFwic3JjXCIsIFwiXCIpO1xyXG4gICAgJChcIi5kX3BvcGFwVmlkZW9cIikucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAgICAkKFwiI21hc3RoZWFkXCIpLmFkZENsYXNzKFwiYmx1cnJlZFwiKTtcclxuICAgICQoXCIjY29sb3Bob25cIikuYWRkQ2xhc3MoXCJibHVycmVkXCIpO1xyXG4gIH0pO1xyXG4gICQoXCIuZF9zbGlkZXJMYXN0X192aWRlb19hXCIpLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwibWFpblwiKS5hZGRDbGFzcyhcImRfYmx1clwiKTtcclxuICAgIC8vICQoJ21haW4nKS5zdHlsZS56SW5kZXg9ICcxMDAnO1xyXG4gICAgJChcIi5kX3BvcGFwVmlkZW9cIilbMF0uc3R5bGUuekluZGV4ID0gXCIyMDBcIjtcclxuICAgICQoXCIuZF9wb3BhcFZpZGVvXCIpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xyXG4gICAgJChcIiNtYXN0aGVhZFwiKS5hZGRDbGFzcyhcImJsdXJyZWRcIik7XHJcbiAgICAkKFwiI2NvbG9waG9uXCIpLmFkZENsYXNzKFwiYmx1cnJlZFwiKTtcclxuICB9KTtcclxuXHJcbiAgcG9wYXBMaXN0Q2xvc2VyLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikuYWRkQ2xhc3MoXCJkLW5cIik7XHJcbiAgICAkKFwiLmRfcG9wYXBVbEh1bWFuXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5kX3BvcGFwU2xpZGVySW1nX19pbWdcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBsZXQgZGF0YUlkSW1nID0gJChcIi5kX3BvcGFwU2xpZGVySW1nX19pbWdcIik7XHJcbiAgICAkKFwiYm9keVwiKS5jc3MoXCJvdmVyZmxvd1lcIiwgXCJhdXRvXCIpO1xyXG4gIH0pO1xyXG4gIGxldCBjb3B5RGF0YUltZyA9IG51bGw7XHJcbiAgb3BlblBvcGFwTGlzdEJ0bldvbWFuLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBsZXQgbGluayA9IHRhcmdldC5hdHRyKFwiaHJlZlwiKTtcclxuICAgIGxldCBjb250ZW50ID0gJChsaW5rKTtcclxuXHJcbiAgICBjb250ZW50LmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgwKTtcclxuICAgICQoXCJib2R5XCIpLmNzcyhcIm92ZXJmbG93WVwiLCBcImhpZGRlblwiKTtcclxuICAgICQoXCIuZF9wb3BhcExpc3RIdW1hblwiKVswXS5zdHlsZS50b3AgPSBcIjEwOHB4XCI7XHJcbiAgICAvLyBjb25zb2xlLmxvZygkKHdpKSk7XHJcblxyXG4gICAgJChcIi5kX3BvcGFwRGl2VGV4dEhcIilbMF0uaW5uZXJUZXh0ID0gdGFyZ2V0LmF0dHIoXCJkYXRhLWJ0blRleHRcIik7XHJcbiAgICAkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikucmVtb3ZlQ2xhc3MoXCJkLW5cIik7XHJcblxyXG4gICAgbGV0IGxpc3RJbWcgPSAkKFwiLmRfcG9wYXBTbGlkZXJJbWdcIikuY2hpbGRyZW4oKTtcclxuXHJcbiAgICBsaXN0SW1nLm1hcCgoaW5kLCBlbGVtKSA9PiB7XHJcbiAgICAgIGxldCBhY3RpdmVFbGlwcyA9ICQoXCIuZF9odW1hbl9faW1nX2dpcmxfX2VsaXBzXCIpO1xyXG5cclxuICAgICAgbGV0IGFjdGl2ZUVsaXAgPSBhY3RpdmVFbGlwcy5tYXAoKGUsIGkpID0+IHtcclxuICAgICAgICBpZiAoJChpKS5oYXNDbGFzcyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgbGV0IGFjdGl2ZVVsID0gJChhY3RpdmVFbGlwKS5hdHRyKFwiaHJlZlwiKTtcclxuICAgICAgbGV0IGNvbnRlbnRVbCA9ICQoYWN0aXZlVWwpO1xyXG4gICAgICBpZiAoJChlbGVtKS5hdHRyKFwiZGF0YS1pZFwiKSA9PSBjb250ZW50VWwuYXR0cihcImlkXCIpKSB7XHJcbiAgICAgICAgJChlbGVtKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gJChcIi5kX3BvcGFwU2xpZGVySW1nXCIpLnNsaWNrKHtcclxuICAgIC8vICAgZG90czogZmFsc2UsXHJcbiAgICAvLyAgIGFycm93czogdHJ1ZSxcclxuICAgIC8vICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgLy8gICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIC8vICAgcHJldkFycm93OiAkKFwiLmRfcG9wYXBTbGlkZXJCdG5fX3ByZXZcIiksXHJcbiAgICAvLyAgIG5leHRBcnJvdzogJChcIi5kX3BvcGFwU2xpZGVyQnRuX19uZXh0IFwiKVxyXG4gICAgLy8gfSk7XHJcbiAgfSk7XHJcbiAgcG9wYXBMaXN0TmV4dGJ0bi5vbihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgbGV0IHNsaWRlciA9ICQoXCIuZF9wb3BhcFNsaWRlckltZ1wiKS5jaGlsZHJlbigpO1xyXG4gICAgbGV0IHVsU2xpZGVyTGlzdCA9ICQoXCIuZF9wb3BhcFVsSHVtYW5cIik7XHJcbiAgICBsZXQgaW5kVWwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0IGZpbHRlcmVkTGlzdCA9IHNsaWRlci5maWx0ZXIoKGksIGUpID0+IHtcclxuICAgICAgcmV0dXJuICEkKGUpLmhhc0NsYXNzKFwiZC1uXCIpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBmaWx0ZXJlZExpc3RVbCA9IHVsU2xpZGVyTGlzdC5maWx0ZXIoKGksIGUpID0+IHtcclxuICAgICAgcmV0dXJuICEkKGUpLmhhc0NsYXNzKFwiZC1uXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChmaWx0ZXJlZExpc3RVbCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPCBmaWx0ZXJlZExpc3RVbC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICBpbmRVbCA9IGkgKz0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW5kVWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkKGUpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICAkKGZpbHRlcmVkTGlzdFVsW2luZFVsXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgbGV0IGluZCA9IG51bGw7XHJcbiAgICAkKGZpbHRlcmVkTGlzdCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPCBmaWx0ZXJlZExpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgaW5kID0gaSArPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbmQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJChlKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgbGV0IGRhdGFUZXh0ID0gJChmaWx0ZXJlZExpc3RbaW5kXSkuYXR0cihcImRhdGEtVGV4dFwiKTtcclxuXHJcbiAgICAkKFwiLmRfcG9wYXBEaXZUZXh0SFwiKVswXS5pbm5lclRleHQgPSBkYXRhVGV4dDtcclxuXHJcbiAgICAkKGZpbHRlcmVkTGlzdFtpbmRdKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICB9KTtcclxuICBwb3BhcExpc3RQcmV2YnRuLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgc2xpZGVyID0gJChcIi5kX3BvcGFwU2xpZGVySW1nXCIpLmNoaWxkcmVuKCk7XHJcbiAgICBsZXQgdWxTbGlkZXJMaXN0ID0gJChcIi5kX3BvcGFwVWxIdW1hblwiKTtcclxuICAgIGxldCBpbmRVbCA9IG51bGw7XHJcblxyXG4gICAgY29uc3QgZmlsdGVyZWRMaXN0VWwgPSB1bFNsaWRlckxpc3QuZmlsdGVyKChpLCBlKSA9PiB7XHJcbiAgICAgIHJldHVybiAhJChlKS5oYXNDbGFzcyhcImQtblwiKTtcclxuICAgIH0pO1xyXG4gICAgJChmaWx0ZXJlZExpc3RVbCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgPD0gZmlsdGVyZWRMaXN0VWwubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgaW5kVWwgPSBpID0gaSAtIDE7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpIDw9IDApIHtcclxuICAgICAgICAgIGluZFVsID0gZmlsdGVyZWRMaXN0VWwubGVuZ3RoIC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW5kVWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkKGUpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChmaWx0ZXJlZExpc3RVbFtpbmRVbF0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIGxldCBpbmQgPSBudWxsO1xyXG4gICAgY29uc3QgZmlsdGVyZWRMaXN0ID0gc2xpZGVyLmZpbHRlcigoaSwgZSkgPT4ge1xyXG4gICAgICByZXR1cm4gISQoZSkuaGFzQ2xhc3MoXCJkLW5cIik7XHJcblxyXG4gICAgICAvLyBpZigkKGUpLmF0dHIoJ2RhdGEtaWQnKSA9PSAnU3RvbWFjaCcpe1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKCk7XHJcblxyXG4gICAgICAvLyB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGZpbHRlcmVkTGlzdCkubWFwKChpLCBlKSA9PiB7XHJcbiAgICAgIGlmICgkKGUpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgPD0gZmlsdGVyZWRMaXN0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIGluZCA9IGkgPSBpIC0gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGkgPD0gMCkge1xyXG4gICAgICAgICAgaW5kID0gZmlsdGVyZWRMaXN0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkKGUpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChmaWx0ZXJlZExpc3RbaW5kXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBsZXQgZGF0YVRleHQgPSAkKGZpbHRlcmVkTGlzdFtpbmRdKS5hdHRyKFwiZGF0YS1UZXh0XCIpO1xyXG5cclxuICAgICQoXCIuZF9wb3BhcERpdlRleHRIXCIpWzBdLmlubmVyVGV4dCA9IGRhdGFUZXh0O1xyXG4gIH0pO1xyXG4gIGxldCBuZXdEYXRhSWRJbWcgPSBudWxsO1xyXG5cclxuICBvcGVuUG9wYXBMaXN0QnRuTWFuLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBsZXQgbGluayA9IHRhcmdldC5hdHRyKFwiaHJlZlwiKTtcclxuICAgIGxldCBjb250ZW50ID0gJChsaW5rKTtcclxuICAgIGNvbnRlbnQuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKDApO1xyXG4gICAgJChcImJvZHlcIikuY3NzKFwib3ZlcmZsb3dZXCIsIFwiaGlkZGVuXCIpO1xyXG4gICAgJChcIi5kX3BvcGFwTGlzdEh1bWFuXCIpWzBdLnN0eWxlLnRvcCA9IFwiMTA4cHhcIjtcclxuICAgICQoXCIuZF9wb3BhcERpdlRleHRIXCIpWzBdLmlubmVyVGV4dCA9IHRhcmdldC5hdHRyKFwiZGF0YS1idG5UZXh0XCIpO1xyXG5cclxuICAgIGxldCBkYXRhSWRJbWcgPSAkKFwiLmRfcG9wYXBTbGlkZXJJbWdfX2ltZ1wiKTtcclxuXHJcbiAgICAkKFwiLmRfcG9wYXBMaXN0SHVtYW5cIikucmVtb3ZlQ2xhc3MoXCJkLW5cIik7XHJcblxyXG4gICAgbGV0IGxpc3RJbWcgPSAkKFwiLmRfcG9wYXBTbGlkZXJJbWdcIikuY2hpbGRyZW4oKTtcclxuXHJcbiAgICBjb25zdCBmaWx0ZXJlZExpc3QgPSBsaXN0SW1nLmZpbHRlcigoaSwgZSkgPT4ge1xyXG4gICAgICByZXR1cm4gISQoZSkuaGFzQ2xhc3MoXCJkLW5cIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmaWx0ZXJlZExpc3QubWFwKChpbmQsIGVsZW0pID0+IHtcclxuICAgICAgbGV0IGFjdGl2ZUVsaXBzID0gJChcIi5kX2h1bWFuX19pbWdfbWFuX19lbGlwc1wiKTtcclxuXHJcbiAgICAgIGxldCBhY3RpdmVFbGlwID0gYWN0aXZlRWxpcHMubWFwKChlLCBpKSA9PiB7XHJcbiAgICAgICAgaWYgKCQoaSkuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBhY3RpdmVVbCA9ICQoYWN0aXZlRWxpcCkuYXR0cihcImhyZWZcIik7XHJcblxyXG4gICAgICBsZXQgY29udGVudFVsID0gJChhY3RpdmVVbCk7XHJcblxyXG4gICAgICBpZiAoJChlbGVtKS5hdHRyKFwiZGF0YS1pZFwiKSA9PSBjb250ZW50VWwuYXR0cihcImlkXCIpKSB7XHJcbiAgICAgICAgJChlbGVtKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qIFRhYnMgKi9cclxuICBkX3RhYkxpbmsub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgIGxldCBsaW5rID0gdGFyZ2V0LmF0dHIoXCJocmVmXCIpO1xyXG5cclxuICAgIGxldCBjb250ZW50ID0gJChsaW5rKTtcclxuXHJcbiAgICB2YXIgYWN0aXZlID0gJChcIi5kX2Vzc2VudGlhbHMtdGFiIC5hY3RpdmUsIC5kX2Vzc2VudGlhbHMtY29udGVudCAuYWN0aXZlIFwiKTtcclxuXHJcbiAgICBhY3RpdmUucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICB0YXJnZXQucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBjb250ZW50LmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG5cclxuICAvKiBUYWJzICovXHJcbiAgbGV0IGdldEltZ0h1bWFuID0gaWQgPT4ge1xyXG4gICAgaHVtYW5JbWdIZWFydC5tYXAoKGN1clZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpbmRleC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJcIik7XHJcbiAgICAgIGlmIChpZCA9PSBpbmRleC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSB7XHJcbiAgICAgICAgbGV0IGRhdGFTcmMgPSBpbmRleC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1R3b1wiKTtcclxuICAgICAgICBpbmRleC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgZGF0YVNyYyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgbGV0IGZpbmRBdHRyID0gKCkgPT4ge1xyXG4gICAgbWFzc0VsaXBzQ29sb3IuZm9yRWFjaChlID0+IHtcclxuICAgICAgaWYgKGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgbGV0IGxvbCA9ICQoZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTtcclxuICAgICAgICBsb2wuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgbGV0IGZpbmRBdHRyTWFuID0gKCkgPT4ge1xyXG4gICAgbWFzc0VsaXBzQ29sb3JNYW4uZm9yRWFjaChlID0+IHtcclxuICAgICAgaWYgKGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgbGV0IGxvbCA9ICQoZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTtcclxuICAgICAgICBsb2wuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgbGV0IHN3aXRjaEZ1bmMgPSBpZCA9PiB7XHJcbiAgICBzd2l0Y2ggKGlkKSB7XHJcbiAgICAgIGNhc2UgXCIwXCI6XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIi0xMXB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItODZweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMjhkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjc3cHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjFcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiNDhweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTYxcHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDFkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjk2cHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiMjVweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE0OHB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgwZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUuaGVpZ2h0ID0gXCIxNzJweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiM1wiOlxyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luVG9wID0gXCI3MnB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItNDFweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTE2ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUuaGVpZ2h0ID0gXCIxMTBweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiNFwiOlxyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luVG9wID0gXCI2MHB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItODlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTdkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjEzOXB4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI1XCI6XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjYzcHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi0xMjJweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTE1ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUuaGVpZ2h0ID0gXCIxODdweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiNlwiOlxyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luVG9wID0gXCI3OXB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItMTg0cHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKC0xNmRlZylcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLmhlaWdodCA9IFwiMzAxcHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjdcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiODlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE0OXB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgtMjVkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5oZWlnaHQgPSBcIjI4NXB4XCI7XHJcbiAgICB9XHJcbiAgfTtcclxuICBsZXQgc3dpdGNoRnVuY01hbiA9IGlkID0+IHtcclxuICAgIHN3aXRjaCAoaWQpIHtcclxuICAgICAgY2FzZSBcIjBcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiLTJweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTc5cHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDM3ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCI3MHB4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCIxXCI6XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjUycHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi04MnB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgtNGRlZylcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLmhlaWdodCA9IFwiMTE3cHhcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiNDJweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE0N3B4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSg1ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCIxNzZweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiM1wiOlxyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luVG9wID0gXCI3MnB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItNDFweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTlkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5oZWlnaHQgPSBcIjEyNnB4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI0XCI6XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjYwcHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi0xMTRweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTExZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCIxNzFweFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSBcIjVcIjpcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpblRvcCA9IFwiNzlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUubWFyZ2luTGVmdCA9IFwiLTE4NHB4XCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgtMThkZWcpXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5oZWlnaHQgPSBcIjI4N3B4XCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCI2XCI6XHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjg5cHhcIjtcclxuICAgICAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm1hcmdpbkxlZnQgPSBcIi0xNDlweFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTI3ZGVnKVwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUuaGVpZ2h0ID0gXCIyNzdweFwiO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEVMSVBTIENPTE9SIEFORCBXSURUSFxyXG5cclxuICBsZXQgbWFzc0VsaXBzQ29sb3IgPSBbXTtcclxuICBsZXQgbWFzc0VsaXBzQ29sb3JNYW4gPSBbXTtcclxuICBlbGlwc1llbGxvdy5tYXAoKGUsIHRhcmdldCkgPT4ge1xyXG4gICAgbWFzc0VsaXBzQ29sb3IucHVzaCh0YXJnZXQpO1xyXG4gIH0pO1xyXG4gIGVsaXBzWWVsbG93TWFuLm1hcCgoZSwgdGFyZ2V0KSA9PiB7XHJcbiAgICBtYXNzRWxpcHNDb2xvck1hbi5wdXNoKHRhcmdldCk7XHJcbiAgfSk7XHJcbiAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9ICQobWFzc0VsaXBzQ29sb3IpWzFdLmdldEF0dHJpYnV0ZShcclxuICAgIFwiZGF0YS1UZXh0XCJcclxuICApO1xyXG5cclxuICAvLyBtb3VzZW92ZXIgTU9VU0VPVkVSXHJcbiAgbGV0IGRNb2JhaWxEb3RzV29tYW4gPSAkKHNsaWRlcnNHaXJsKVxyXG4gICAgLmZpbmQoXCIuc2xpY2stZG90c1wiKVxyXG4gICAgLmNoaWxkcmVuKCk7XHJcbiAgZWxpcHNZZWxsb3cub24oXCJtb3VzZW92ZXJcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgIGFycm93SGVhcnRbMF0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG5cclxuICAgICQoXCIuZF9odW1hbl9fbGlzdF9faFwiKVswXS5pbm5lclRleHQgPSB0YXJnZXRbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1UZXh0XCIpO1xyXG4gICAgdWxBY3RpdmUubWFwKChpbmRleCwgdWwpID0+IHtcclxuICAgICAgdWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgZ2V0SW1nSHVtYW4oZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSk7XHJcblxyXG4gICAgZWxpcHNZZWxsb3cubWFwKChlLCB0YXJnZXQpID0+IHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpID09IFwiYmxvY2tHaXJsXCIpIHtcclxuICAgICAgc3dpdGNoRnVuYyhlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKTtcclxuICAgIH1cclxuICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpID09IFwiYmxvY2tNYW5cIikge1xyXG4gICAgICBzd2l0Y2hGdW5jTWFuKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHRhcmdldC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIGZpbmRBdHRyKCk7XHJcbiAgICBsZXQgYXR0clllbGxvd0NpcmNsZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIik7XHJcbiAgICBsZXQgZE1vYmFpbERvdHNXb21hbkJ0biA9ICQoZE1vYmFpbERvdHNXb21hblthdHRyWWVsbG93Q2lyY2xlXSkuY2hpbGRyZW4oKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGRNb2JhaWxEb3RzV29tYW5CdG4pO1xyXG5cclxuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPD0gNTc3KSB7XHJcbiAgICAgIGRNb2JhaWxEb3RzV29tYW5CdG4uY2xpY2soKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZWxpcHNZZWxsb3dNYW4ub24oXCJtb3VzZW92ZXJcIiwgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgIGFycm93SGVhcnRbMF0uc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG5cclxuICAgICQoXCIuZF9odW1hbl9fbGlzdF9faFwiKVswXS5pbm5lclRleHQgPSB0YXJnZXRbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1UZXh0XCIpO1xyXG5cclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodWxBY3RpdmUsIHVsID0+IHtcclxuICAgICAgdWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgZ2V0SW1nSHVtYW4oZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSk7XHJcblxyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbGlwc1llbGxvd01hbiwgdGFyZ2V0ID0+IHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PSBcImJsb2NrR2lybFwiKSB7XHJcbiAgICAgIHN3aXRjaEZ1bmMoZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PSBcImJsb2NrTWFuXCIpIHtcclxuICAgICAgc3dpdGNoRnVuY01hbihlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICB0YXJnZXQuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBmaW5kQXR0ck1hbigpO1xyXG4gICAgbGV0IGF0dHJZZWxsb3dDaXJjbGUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpO1xyXG4gICAgbGV0IGRNb2JhaWxEb3RzTWFuQnRuID0gJChkTW9iYWlsRG90c01hblthdHRyWWVsbG93Q2lyY2xlXSkuY2hpbGRyZW4oKTtcclxuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPD0gNTc3KSB7XHJcbiAgICAgIGRNb2JhaWxEb3RzTWFuQnRuLmNsaWNrKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgZWxpcHNZZWxsb3cub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuICBlbGlwc1llbGxvd01hbi5vbihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBidG5HaXJsTmV4dCBDT0xPUiBBTkQgV0lEVEhcclxuXHJcbiAgYnRuR2lybE5leHQub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodWxBY3RpdmUsIHVsID0+IHtcclxuICAgICAgdWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgbGV0IHZhbHVlID0gbnVsbDtcclxuXHJcbiAgICBtYXNzRWxpcHNDb2xvci5mb3JFYWNoKChjdXJWYWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGN1clZhbHVlLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgIHZhbHVlID0gY3VyVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbGV0IGRhdGFJZCA9IFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgKyAxKTtcclxuXHJcbiAgICBtYXNzRWxpcHNDb2xvci5mb3JFYWNoKChjdXJWYWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICAgIGN1clZhbHVlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAvL1xyXG4gICAgICBpZiAoaW5kZXggPT0gZGF0YUlkKSB7XHJcbiAgICAgICAgY3VyVmFsdWUuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9ICQoY3VyVmFsdWUpWzBdLmdldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwiZGF0YS1UZXh0XCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXRhSWQgPj0gYXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgbWFzc0VsaXBzQ29sb3JbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKFwiLmRfaHVtYW5fX2xpc3RfX2hcIilbMF0uaW5uZXJUZXh0ID0gbWFzc0VsaXBzQ29sb3JbMF0uZ2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgXCJkYXRhLVRleHRcIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbGV0IGRhdElkID1cclxuICAgICAgU3RyaW5nKE51bWJlcih2YWx1ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSArIDEpID49IG1hc3NFbGlwc0NvbG9yLmxlbmd0aFxyXG4gICAgICAgID8gXCIwXCJcclxuICAgICAgICA6IFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgKyAxKTtcclxuICAgIHN3aXRjaEZ1bmMoZGF0SWQpO1xyXG4gICAgZ2V0SW1nSHVtYW4oZGF0SWQpO1xyXG5cclxuICAgIGZpbmRBdHRyKCk7XHJcbiAgfSk7XHJcbiAgYnRuTWFuTmV4dC5vbihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcblxyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh1bEFjdGl2ZSwgdWwgPT4ge1xyXG4gICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHZhbHVlID0gbnVsbDtcclxuXHJcbiAgICBtYXNzRWxpcHNDb2xvck1hbi5mb3JFYWNoKChjdXJWYWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGN1clZhbHVlLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgIHZhbHVlID0gY3VyVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbGV0IGRhdGFJZCA9IFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgKyAxKTtcclxuXHJcbiAgICBtYXNzRWxpcHNDb2xvck1hbi5mb3JFYWNoKChjdXJWYWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICAgIGN1clZhbHVlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgIGlmIChpbmRleCA9PSBkYXRhSWQpIHtcclxuICAgICAgICBjdXJWYWx1ZS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoXCIuZF9odW1hbl9fbGlzdF9faFwiKVswXS5pbm5lclRleHQgPSAkKGN1clZhbHVlKVswXS5nZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICBcImRhdGEtVGV4dFwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZGF0YUlkID49IGFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIG1hc3NFbGlwc0NvbG9yTWFuWzBdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9IG1hc3NFbGlwc0NvbG9yTWFuWzBdLmdldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwiZGF0YS1UZXh0XCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgZGF0SWQgPVxyXG4gICAgICBTdHJpbmcoTnVtYmVyKHZhbHVlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpICsgMSkgPj1cclxuICAgICAgbWFzc0VsaXBzQ29sb3JNYW4ubGVuZ3RoXHJcbiAgICAgICAgPyBcIjBcIlxyXG4gICAgICAgIDogU3RyaW5nKE51bWJlcih2YWx1ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSArIDEpO1xyXG4gICAgc3dpdGNoRnVuY01hbihkYXRJZCk7XHJcbiAgICBnZXRJbWdIdW1hbihkYXRJZCk7XHJcblxyXG4gICAgZmluZEF0dHJNYW4oKTtcclxuICB9KTtcclxuXHJcbiAgYnRuR2lybFByZXYub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodWxBY3RpdmUsIHVsID0+IHtcclxuICAgICAgdWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICBhcnJvd0hlYXJ0WzBdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuXHJcbiAgICBsZXQgdmFsdWUgPSBudWxsO1xyXG4gICAgbWFzc0VsaXBzQ29sb3IuZm9yRWFjaCgoY3VyVmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJWYWx1ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICB2YWx1ZSA9IGN1clZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgZGF0YUlkID1cclxuICAgICAgU3RyaW5nKE51bWJlcih2YWx1ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSAtIDEpIDwgMFxyXG4gICAgICAgID8gU3RyaW5nKG1hc3NFbGlwc0NvbG9yLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgOiBTdHJpbmcoTnVtYmVyKHZhbHVlLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpIC0gMSk7XHJcblxyXG4gICAgbWFzc0VsaXBzQ29sb3IuZm9yRWFjaCgoY3VyVmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGN1clZhbHVlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICBpZiAoaW5kZXggPT0gZGF0YUlkKSB7XHJcbiAgICAgICAgY3VyVmFsdWUuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKFwiLmRfaHVtYW5fX2xpc3RfX2hcIilbMF0uaW5uZXJUZXh0ID0gJChjdXJWYWx1ZSlbMF0uZ2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgXCJkYXRhLVRleHRcIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgc3dpdGNoRnVuYyhkYXRhSWQpO1xyXG4gICAgZ2V0SW1nSHVtYW4oZGF0YUlkKTtcclxuICAgIGZpbmRBdHRyKCk7XHJcbiAgfSk7XHJcbiAgYnRuTWFuUHJldi5vbihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh1bEFjdGl2ZSwgdWwgPT4ge1xyXG4gICAgICB1bC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICBhcnJvd0hlYXJ0TWFuWzBdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgIGFycm93SGVhcnRbMF0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgbGV0IHZhbHVlID0gbnVsbDtcclxuICAgIG1hc3NFbGlwc0NvbG9yTWFuLmZvckVhY2goKGN1clZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoY3VyVmFsdWUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgdmFsdWUgPSBjdXJWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGRhdGFJZCA9XHJcbiAgICAgIFN0cmluZyhOdW1iZXIodmFsdWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgLSAxKSA8IDBcclxuICAgICAgICA/IFN0cmluZyhtYXNzRWxpcHNDb2xvck1hbi5sZW5ndGggLSAxKVxyXG4gICAgICAgIDogU3RyaW5nKE51bWJlcih2YWx1ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSAtIDEpO1xyXG5cclxuICAgIG1hc3NFbGlwc0NvbG9yTWFuLmZvckVhY2goKGN1clZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICBjdXJWYWx1ZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgaWYgKGluZGV4ID09IGRhdGFJZCkge1xyXG4gICAgICAgIGN1clZhbHVlLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19saXN0X19oXCIpWzBdLmlubmVyVGV4dCA9ICQoY3VyVmFsdWUpWzBdLmdldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwiZGF0YS1UZXh0XCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHN3aXRjaEZ1bmNNYW4oZGF0YUlkKTtcclxuICAgIGdldEltZ0h1bWFuKGRhdGFJZCk7XHJcbiAgICBmaW5kQXR0ck1hbigpO1xyXG4gIH0pO1xyXG4gIC8vIGJ0bkdpcmxOZXh0IENPTE9SIEFORCBXSURUSFxyXG4gIC8vIGxpbmtTd2l0Y2hCbG9ja0h1bWFuXHJcbiAgbGV0IGRNb2JhaWxEb3RzTWFuID0gbnVsbDtcclxuXHJcbiAgbGlua1N3aXRjaEJsb2NrSHVtYW4ub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgIGxldCBsaW5rID0gdGFyZ2V0LnBhcmVudCgpLmF0dHIoXCJocmVmXCIpO1xyXG4gICAgbGV0IGNvbnRlbnQgPSAkKGxpbmspO1xyXG4gICAgdmFyIGFjdGl2ZUltZyA9ICQoXCIuZF9odW1hbl9faW1nXCIpO1xyXG5cclxuICAgIGxldCBhY3RpdmVJbWdDaGlsZHJlbiA9IGFjdGl2ZUltZy5jaGlsZHJlbigpO1xyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhY3RpdmVJbWdDaGlsZHJlbiwgKGUsIG4pID0+IHtcclxuICAgICAgZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHVsQWN0aXZlLCB1bCA9PiB7XHJcbiAgICAgIHVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICAgIGxldCBwYXJlbnRJbWcgPSB0YXJnZXQucGFyZW50KCkucGFyZW50KCk7XHJcblxyXG4gICAgbGV0IGNsYXNQYXJlbnQgPSBwYXJlbnRJbWcuYXR0cihcImNsYXNzXCIpO1xyXG4gICAgbGV0IG9jdGl2ZSA9ICQoYC4ke2NsYXNQYXJlbnR9IC5hY3RpdmVgKTtcclxuXHJcbiAgICBvY3RpdmUucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICB0YXJnZXQuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgYWN0aXZlSW1nLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgbGV0IGNoaWxkcmVuID0gY29udGVudC5jaGlsZHJlbigpO1xyXG5cclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoJChjaGlsZHJlbiksIChlLCBuKSA9PiB7XHJcbiAgICAgIGlmIChlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT0gXCJibG9ja0dpcmxcIikge1xyXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSA3NjgpIHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChlID0+IHtcclxuICAgICAgICAgICAgYnRuR2lybE5leHRJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmaW5kQXR0cigpO1xyXG4gICAgICAgIGxldCBhY3RpdmVFbGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICBcIi5kX2h1bWFuX19pbWdfZ2lybF9fZWxpcHMuYWN0aXZlXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIGdldEltZ0h1bWFuKCQoYWN0aXZlRWxpcHMpWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikpO1xyXG4gICAgICAgICQoXCIuZF9odW1hbl9fbGlzdF9faFwiKVswXS5pbm5lclRleHQgPSAkKGFjdGl2ZUVsaXBzKVswXS5nZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICBcImRhdGEtVGV4dFwiXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgYXJyb3dIZWFydE1hblswXS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgICAgICAgYXJyb3dIZWFydFswXS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICAgICAgbGV0IGRuYmxvY2tVbCA9ICQoXCIuZF9wb3BhcFVsSHVtYW5cIik7XHJcbiAgICAgICAgJChkbmJsb2NrVWxbNF0pLnJlbW92ZUNsYXNzKFwiZC1uXCIpO1xyXG4gICAgICAgIGxldCBkbmJsb2NrSW1nID0gJChcIi5kX3BvcGFwU2xpZGVySW1nX19pbWdcIik7XHJcbiAgICAgICAgJChkbmJsb2NrSW1nWzRdKS5yZW1vdmVDbGFzcyhcImQtblwiKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImlkXCIpID09IFwiYmxvY2tNYW5cIikge1xyXG4gICAgICAgIGZpbmRBdHRyTWFuKCk7XHJcbiAgICAgICAgbGV0IGFjdGl2ZUVsaXBzVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgIFwiLmRfaHVtYW5fX2ltZ19tYW5fX2VsaXBzLmFjdGl2ZVwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPj0gNzY4KSB7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZSA9PiB7XHJcbiAgICAgICAgICAgIGJ0bk1hbk5leHRJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRJbWdIdW1hbigkKGFjdGl2ZUVsaXBzVHdvKVswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKTtcclxuICAgICAgICAkKFwiLmRfaHVtYW5fX2xpc3RfX2hcIilbMF0uaW5uZXJUZXh0ID0gJChhY3RpdmVFbGlwc1R3bylbMF0uZ2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgXCJkYXRhLVRleHRcIlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGFycm93SGVhcnRbMF0uc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICAgIGFycm93SGVhcnRNYW5bMF0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgICAgIGxldCBkbmJsb2NrVWwgPSAkKFwiLmRfcG9wYXBVbEh1bWFuXCIpO1xyXG4gICAgICAgICQoZG5ibG9ja1VsWzRdKS5hZGRDbGFzcyhcImQtblwiKTtcclxuICAgICAgICBsZXQgZG5ibG9ja0ltZyA9ICQoXCIuZF9wb3BhcFNsaWRlckltZ19faW1nXCIpO1xyXG4gICAgICAgICQoZG5ibG9ja0ltZ1s0XSkuYWRkQ2xhc3MoXCJkLW5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgY29udGVudC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICBpZiAoY29udGVudFswXS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PSBcImJsb2NrR2lybFwiKSB7XHJcbiAgICAgIGZpbmRBdHRyKCk7XHJcbiAgICAgIGdpcmxCdG5zWzBdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgIG1hbkJ0bnNbMF0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgJChzbGlkZXJzR2lybCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICQoc2xpZGVyc01hbikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA1MjApIHtcclxuICAgICAgICAkKFwiLmRfaHVtYW5fX3NsaWRlcnNNYW5cIikuc2xpY2soXCJ1bnNsaWNrXCIpO1xyXG5cclxuICAgICAgICAkKFwiLmRfaHVtYW5fX3NsaWRlcnNHaXJsXCIpLnNsaWNrKHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgICAgc3BlZWQ6MTAwLFxyXG4gICAgICAgICAgYXV0b3BsYXlTcGVlZDogNTAwMCxcclxuICAgICAgICAgIGFycm93czogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBkTW9iYWlsRG90c1dvbWFuID0gJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKVxyXG4gICAgICAgIC5maW5kKFwiLnNsaWNrLWRvdHNcIilcclxuICAgICAgICAuY2hpbGRyZW4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1hbkJ0bnNbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgZ2lybEJ0bnNbMF0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgJChzbGlkZXJzTWFuKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgJChzbGlkZXJzR2lybCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDw9IDU3Nykge1xyXG4gICAgICAgICQoXCIuZF9odW1hbl9fc2xpZGVyc01hblwiKS5zbGljayh7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKS5zbGljayhcInVuc2xpY2tcIik7XHJcblxyXG4gICAgICAgIGxldCBjbGlja0J0blNsaWRlck1hblByZXZlbnREZWZhdWx0ID0gc2xpZGVyc01hbi5maW5kKFwibGlcIikuY2hpbGRyZW4oKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjbGlja0J0blNsaWRlck1hblByZXZlbnREZWZhdWx0WzFdLmNsaWNrKCk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAvLyBjbGlja0J0blNsaWRlck1hblByZXZlbnREZWZhdWx0WzFdLmFkZEV2ZW50TGlzdGVuZXIoXCJoZWxsb1wiLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIC8vICAgLy8gJChjbGlja0J0blNsaWRlck1hblByZXZlbnREZWZhdWx0WzFdKS5jbGljaygpO1xyXG4gICAgICAgIC8vICAgY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdFsxXS5jbGljaygpXHJcbiAgICAgICAgLy8gICByZXR1cm5cclxuXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdFsxXS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImhlbGxvXCIsIHtcclxuXHJcbiAgICAgICAgLy8gfSkpO1xyXG5cclxuICAgICAgICAvLyBjbGlja0J0blNsaWRlck1hblByZXZlbnREZWZhdWx0WzFdLmNsaWNrKGNsaWNrQnRuU2xpZGVyTWFuUHJldmVudERlZmF1bHRbMV0uY2xpY2soKSlcclxuXHJcbiAgICAgICAgY2xpY2tCdG5TbGlkZXJNYW5QcmV2ZW50RGVmYXVsdC5vbihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBldmVudC50YXJnZXQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkTW9iYWlsRG90c01hbiA9ICQoc2xpZGVyc01hbilcclxuICAgICAgICAuZmluZChcIi5zbGljay1kb3RzXCIpXHJcbiAgICAgICAgLmNoaWxkcmVuKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgLy8gbGlua1N3aXRjaEJsb2NrSHVtYW5cclxuXHJcbiAgJChcIi5kX2h1bWFuX19zbGlkZXJzR2lybFwiKS5vbihcImFmdGVyQ2hhbmdlXCIsIGZ1bmN0aW9uKFxyXG4gICAgZXZlbnQsXHJcbiAgICBzbGljayxcclxuICAgIGN1cnJlbnRTbGlkZSxcclxuICAgIG5leHRTbGlkZVxyXG4gICkge1xyXG4gICAgbWFzc0VsaXBzQ29sb3IuZm9yRWFjaChlID0+IHtcclxuICAgICAgZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICBtYXNzRWxpcHNDb2xvcltjdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcblxyXG4gICQoXCIuZF9odW1hbl9fc2xpZGVyc01hblwiKS5vbihcImFmdGVyQ2hhbmdlXCIsIGZ1bmN0aW9uKFxyXG4gICAgZXZlbnQsXHJcbiAgICBzbGljayxcclxuICAgIGN1cnJlbnRTbGlkZSxcclxuICAgIG5leHRTbGlkZVxyXG4gICkge1xyXG4gICAgbWFzc0VsaXBzQ29sb3JNYW4uZm9yRWFjaChlID0+IHtcclxuICAgICAgZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICBtYXNzRWxpcHNDb2xvck1hbltjdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgfSk7XHJcbiAgbGV0IG9yYW5nU3Ryb2tlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNFbGxpcHNlT3JhbmdTdHJva2VcIik7XHJcbiAgbGV0IGJ0bkJhY2tUb1RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZF9iYWNrVG9Ub3BcIik7XHJcbiAgLy8gbGV0IGZ1bmNCYWNrVG9Ub3AgPSBmdW5jdGlvbigpIHtcclxuICAvLyAgIGlmIChzY3JvbGxUb3AgPj0gMjAwKSB7XHJcbiAgLy8gICAgIGJ0bkJhY2tUb1RvcC5jbGFzc0xpc3QucmVtb3ZlKFwiZC1uXCIpO1xyXG4gIC8vICAgICB0YXJnZXRUb3AgPSBzY3JvbGxUb3AgKyAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcbiAgLy8gICB9IGVsc2Uge1xyXG4gIC8vICAgICBidG5CYWNrVG9Ub3AuY2xhc3NMaXN0LmFkZChcImQtblwiKTtcclxuICAvLyAgICAgdGFyZ2V0VG9wID0gc2Nyb2xsVG9wO1xyXG4gIC8vICAgfVxyXG5cclxuICAvLyAgIGxldCBCb2R5SGVpZ2h0ID0gJChcImJvZHlcIikuaGVpZ2h0KCk7XHJcbiAgLy8gICBsZXQgcmVzdWx0UHJvY2VudEJvZHkgPSAodGFyZ2V0VG9wICogMTAwKSAvIEJvZHlIZWlnaHQgKyAxMDA7XHJcblxyXG4gIC8vICAgbGV0IHJlc3VsdFN0b2tlT3JhbmdlID0gKHJlc3VsdFByb2NlbnRCb2R5ICogLTI1MSkgLyAxMDA7XHJcbiAgLy8gICBvcmFuZ1N0cm9rZS5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gcmVzdWx0U3Rva2VPcmFuZ2U7XHJcbiAgLy8gfTtcclxuICAkKGJ0bkJhY2tUb1RvcCkub24oXCJjbGlja1wiLCBlID0+IHtcclxuICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuXHJcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxyXG4gICAgICB7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiAkKFwiaHRtbCwgYm9keVwiKS5vZmZzZXQoKS50b3BcclxuICAgICAgfSxcclxuICAgICAgMTAwMFxyXG4gICAgKTtcclxuICB9KTtcclxuICBsZXQgdHJvdHRsZWQgPSBmdW5jID0+IHtcclxuICAgIGxldCBpc1Ryb3R0bGUgPSBmYWxzZTtcclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKGlzVHJvdHRsZSkgcmV0dXJuO1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcztcclxuXHJcbiAgICAgICAgbGV0IGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgIGZ1bmMuYXBwbHkoY3R4LCBhcmdzKTtcclxuXHJcbiAgICAgICAgaXNUcm90dGxlID0gdHJ1ZTtcclxuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICBpc1Ryb3R0bGUgPSBmYWxzZTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbiAgLy8gbGV0IHRpbWVyO1xyXG5cclxuICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gIC8vICAgXCJzY3JvbGxcIixcclxuICAvLyAgIHRyb3R0bGVkKGUgPT4ge1xyXG5cclxuICAvLyAgICAgbGV0IHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gIC8vICAgICBsZXQgdGFyZ2V0VG9wID0gbnVsbDtcclxuICAvLyAgICAgbGV0IHNjcm9sbFRvcCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO1xyXG4gIC8vICAgICBpZiAodGltZXIpIHtcclxuICAvLyAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAvLyAgICAgICBidG5CYWNrVG9Ub3AuY2xhc3NMaXN0LmFkZChcImQtblwiKTtcclxuICAvLyAgICAgfSwgMTAwMCk7XHJcblxyXG4gIC8vICAgICBpZiAoc2Nyb2xsVG9wID49IDIwMCkge1xyXG4gIC8vICAgICAgIGJ0bkJhY2tUb1RvcC5jbGFzc0xpc3QucmVtb3ZlKFwiZC1uXCIpO1xyXG4gIC8vICAgICAgIHRhcmdldFRvcCA9IHNjcm9sbFRvcCArICQod2luZG93KS5oZWlnaHQoKTtcclxuXHJcbiAgLy8gICAgIH0gZWxzZSB7XHJcbiAgLy8gICAgICAgYnRuQmFja1RvVG9wLmNsYXNzTGlzdC5hZGQoXCJkLW5cIik7XHJcbiAgLy8gICAgICAgdGFyZ2V0VG9wID0gc2Nyb2xsVG9wO1xyXG4gIC8vICAgICB9XHJcblxyXG4gIC8vICAgICBsZXQgQm9keUhlaWdodCA9ICQoZG9jdW1lbnQpLmhlaWdodCgpO1xyXG4gIC8vICAgICBsZXQgcmVzdWx0UHJvY2VudEJvZHkgPSAodGFyZ2V0VG9wICogMTAwKSAvIEJvZHlIZWlnaHQgKyAxMDA7XHJcblxyXG4gIC8vICAgICBsZXQgcmVzdWx0U3Rva2VPcmFuZ2UgPSAocmVzdWx0UHJvY2VudEJvZHkgKiAtMjUxKSAvIDEwMDtcclxuICAvLyAgICAgb3JhbmdTdHJva2Uuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IHJlc3VsdFN0b2tlT3JhbmdlO1xyXG5cclxuICAvLyAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID09ICgkKGRvY3VtZW50KS5oZWlnaHQoKSAtICQod2luZG93KS5oZWlnaHQoKSkgfHxcclxuICAvLyAgICAgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAoJChkb2N1bWVudCkuaGVpZ2h0KCkgLSAkKHdpbmRvdykuaGVpZ2h0KCkpXHJcbiAgLy8gICAgICkge1xyXG4gIC8vICAgICAgIGJ0bkJhY2tUb1RvcC5jbGFzc0xpc3QucmVtb3ZlKFwiZC1uXCIpO1xyXG4gIC8vICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH0pXHJcbiAgLy8gKTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUZBO0FBWkE7QUFzQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBZEE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFQQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBUkE7QUFrQkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9DQTtBQWlEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExQ0E7QUE0Q0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFEQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./index.js\n");
>>>>>>> c744c5dbe764bd0fa26e363b04f7b3e02719f9de

/***/ })

/******/ });